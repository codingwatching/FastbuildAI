import{ad as B,aZ as W,a_ as T,v as V,s as Y,ag as X,l as j,k as K,ab as I,aO as G,f as $,bu as Q,bv as Z,ac as S,d as g,o as i,O as b,Q as u,M as o,D as L,bw as q,R as x,A as M,x as U,$ as D,ak as F,E as H,T as J,bx as ee,U as te}from"#entry";import{_ as oe}from"./xP7Vu9y2.js";import{a as ne,b as le}from"./7jC6a4Hw.js";import{u as ae}from"./CK2yL0kf.js";import{d as se}from"./DNsHFHOw.js";import"./zLBfgxI-.js";import"./D2oLvFOV.js";import"./OD9A2821.js";import"./z2CrSoMD.js";import"./DjuisMge.js";import"./BU4xloRu.js";import"./BCKMtGRm.js";import"./TGMj2fgS.js";import"./By0PsbOB.js";import"./f0n4UPto.js";import"./C9ze5RlS.js";import"./BgMMKzd9.js";import"./CFMQFib2.js";import"./DlAUqK2U.js";import"./DlA8nJ0P.js";import"./CMCJFRHe.js";import"./SgNG9L-n.js";const ie=["red","orange","yellow","lime","green","teal","cyan","blue","indigo","violet","purple","fuchsia","pink","black"],ce=["slate","gray","zinc","neutral","stone"],re={red:"common.theme.red",orange:"common.theme.orange",yellow:"common.theme.yellow",lime:"common.theme.lime",green:"common.theme.green",teal:"common.theme.teal",cyan:"common.theme.cyan",blue:"common.theme.blue",indigo:"common.theme.indigo",violet:"common.theme.violet",purple:"common.theme.purple",fuchsia:"common.theme.fuchsia",pink:"common.theme.pink",black:"common.theme.black"},ue={slate:"common.theme.slate",gray:"common.theme.gray",zinc:"common.theme.zinc",neutral:"common.theme.neutral",stone:"common.theme.stone"};function O(l){return l.startsWith("/extensions")}function C(l,P,c=!1){return P||c||O(l)}function me(){const l=W(),P=B(),c=l.public.isPlugin,y=l.public.appBaseURL||"/",v=e=>typeof e=="string"?e:P.resolve(e).href,m=e=>e.startsWith(y)?e:e.replace(new RegExp(`^${y}`),"");return{smartNavigate:(e,r)=>{const{newTab:_=!1,forceLocation:n=!1}=r||{},s=v(e);if(s.startsWith("http://")||s.startsWith("https://")){_?window.open(s,"_blank","noopener,noreferrer"):window.location.href=s;return}if(_){const h=C(s,c,n)?s:c?`${y}${s}`.replace(/\/+/g,"/"):s;window.open(h,"_blank","noopener,noreferrer");return}C(s,c,n)?window.location.href=m(s):T(e)},smartReplace:e=>{const r=v(e);C(r,c)?window.location.replace(r):T(e,{replace:!0})},toAbsolutePath:e=>{if(e.startsWith("http://")||e.startsWith("https://"))return e;if(C(e,c)){const r=m(e),_=r.startsWith("/")?r:`/${r}`;return`${window.location.origin}${_}`}return e},isPlugin:c,baseURL:y,isExtensionPath:O}}const de={key:0,class:"hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg select-none"},pe={class:"flex h-10 items-center justify-between px-3 py-2 text-sm font-medium"},fe={class:"flex items-center gap-1.5",href:"https://www.buildingai.cc",target:"_blank"},he={key:0,class:"truncate"},ge={class:"ml-2 flex flex-col text-left"},be={class:"block w-35 truncate text-sm font-medium"},ke={class:"text-muted-foreground text-xs"},xe={key:1,class:"text-foreground flex h-full w-full cursor-pointer items-center gap-2 px-1 py-1"},ye={class:"text-sm"},ve={class:"flex flex-1 items-center gap-2"},_e={key:0,class:"flex w-[100px] flex-col"},we={class:"truncate text-sm font-medium"},Ie={class:"text-secondary-foreground truncate text-xs"},Le={key:0,class:"flex items-center"},Ze=V({__name:"user-menu",props:{mode:{},collapsed:{type:Boolean},mobileMenu:{type:Boolean}},emits:["update:collapsed"],setup(l,{emit:P}){const c=l,y=P,v=c.mode==="sidebar"?ne(c,"collapsed",y):Y(!1),m=ae(),{store:f}=le(),d=X(),{locale:A,t:e,setLocale:r}=j(),{smartNavigate:_}=me(),n=K(),s=I("nuxt-ui-language"),h=G(!1),N=$(()=>f.value==="auto"?{label:e("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid"}:f.value==="light"?{label:e("layouts.theme.light"),icon:"i-lucide-sun"}:{label:e("layouts.theme.dark"),icon:"i-lucide-moon"}),z=$(()=>[[{label:"profile"}],[{label:m.consoleLayoutMode==="side"?e("layouts.sidebar"):e("layouts.mixture"),icon:m.consoleLayoutMode==="side"?"i-lucide-panel-left":"i-lucide-panels-top-left",children:[{label:e("layouts.sidebar"),icon:"i-lucide-panel-left",type:"checkbox",checked:m.consoleLayoutMode==="side",onSelect(t){t.preventDefault(),m.consoleLayoutMode="side",I(S.LAYOUT_MODE).value="side"}},{label:e("layouts.mixture"),icon:"i-lucide-panels-top-left",type:"checkbox",checked:m.consoleLayoutMode==="mixture",onUpdateChecked(t){t&&(m.consoleLayoutMode="mixture",I(S.LAYOUT_MODE).value="mixture")},onSelect(t){t.preventDefault()}}]},{label:e("layouts.theme.theme"),icon:"i-lucide-palette",children:[{label:e("layouts.theme.color"),slot:"chip",chip:d.ui.colors.primary,content:{align:"center",collisionPadding:16},children:ie.map(t=>({label:e(re[t]),chip:t,slot:"chip",checked:d.ui.colors.primary===t,type:"checkbox",onSelect:p=>{p.preventDefault();const k=I(S.NUXT_UI_BLACK_AS_PRIMARY),w=I(S.NUXT_UI_PRIMARY);if(w.value=t,d.ui.colors.primary=t,t==="black"){d.theme.blackAsPrimary=!0,k.value=!0,d.ui.colors.primary=t;return}d.theme.blackAsPrimary=!1,k.value=!1}}))},{label:e("layouts.theme.neutralLabel"),slot:"chip",chip:d.ui.colors.neutral,content:{align:"end",collisionPadding:16},children:ce.map(t=>({label:e(ue[t]),chip:t,slot:"chip",type:"checkbox",checked:d.ui.colors.neutral===t,onSelect:p=>{p.preventDefault();const k=I(S.NUXT_UI_NEUTRAL);k.value=t,d.ui.colors.neutral=t}}))}]},{label:N.value.label,icon:N.value.icon,children:[{label:e("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid",type:"checkbox",checked:f.value==="auto",onSelect(t){t.preventDefault(),f.value="auto"}},{label:e("layouts.theme.light"),icon:"i-lucide-sun",type:"checkbox",checked:f.value==="light",onSelect(t){t.preventDefault(),f.value="light"}},{label:e("layouts.theme.dark"),icon:"i-lucide-moon",type:"checkbox",checked:f.value==="dark",onUpdateChecked(t){t&&(f.value="dark")},onSelect(t){t.preventDefault()}}]},{label:Z(A.value),icon:"i-lucide-languages",content:{align:"end",collisionPadding:16},children:Q.map(t=>({label:`${t.name}`,type:"checkbox",slot:"lang",checked:A.value===t.code,onSelect(p){p.preventDefault(),r(t.code),s.value=t.code}}))}],[{label:e("layouts.officeLink"),icon:"i-lucide-external-link",onSelect(){window.open("https://www.buildingai.cc","_blank")}}],[{label:e("layouts.logout"),icon:"i-lucide-log-out",onSelect(t){t.preventDefault(),n.logout()}}]]);return se({o:()=>h.value=!h.value}),(t,p)=>{const k=q,w=H,R=F,E=oe;return i(),g("div",{class:D(["flex flex-col gap-1",l.collapsed?"px-1":"px-1.5"])},[o(m).consoleLayoutMode==="side"?(i(),g("div",de,[u("div",pe,[u("a",fe,[L(k,{name:"i-lucide-external-link"}),l.collapsed?b("",!0):(i(),g("span",he,x(o(e)("layouts.officeLink")),1))])])])):b("",!0),u("div",{class:D(["hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg px-3 py-2 select-none",{"bg-secondary dark:bg-surface-800":o(h)}])},[L(E,{open:o(h),"onUpdate:open":p[1]||(p[1]=a=>te(h)?h.value=a:null),items:o(z),content:l.mode==="mixture"?{sideOffset:4,collisionPadding:14}:{align:"start",side:l.mobileMenu?"top":"right",sideOffset:10,collisionPadding:10},ui:{content:l.collapsed||l.mode==="mixture"?"w-54":"w-(--reka-dropdown-menu-trigger-width)"}},{"chip-leading":M(({item:a})=>[u("span",{style:ee({backgroundColor:a.chip}),class:"ms-0.5 size-2 rounded-full"},null,4)]),"chip-trailing":M(({item:a})=>[a.children?(i(),U(w,{key:0,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):b("",!0)]),"lang-leading":M(({item:a})=>[J(x(a.icon),1)]),item:M(({item:a})=>[a?.label==="profile"?(i(),g("div",{key:0,class:"flex px-1 pt-1.5",onClick:p[0]||(p[0]=Pe=>o(_)(`/profile/${o(n).userInfo?.id}`))},[L(R,{src:o(n).userInfo?.avatar,alt:o(n).userInfo?.nickname,icon:o(n).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),u("div",ge,[u("span",be,x(o(n).userInfo?.nickname),1),u("span",ke,x(o(n).userInfo?.username),1)])])):(i(),g("div",xe,[L(w,{name:a.icon,class:"text-muted-foreground text-lg"},null,8,["name"]),u("span",ye,x(a.label),1)])),a.children?(i(),U(w,{key:2,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):b("",!0),a.checked?(i(),U(w,{key:3,name:"i-lucide-check",class:"text-muted-foreground text-lg"})):b("",!0)]),default:M(()=>[l.mode==="sidebar"?(i(),g("div",{key:0,class:D(["flex flex-1 items-center justify-center gap-2 select-none",{"flex-col":o(v)}])},[u("div",ve,[L(R,{src:o(n).userInfo?.avatar,alt:o(n).userInfo?.nickname,icon:o(n).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),o(v)?b("",!0):(i(),g("div",_e,[u("span",we,x(o(n).userInfo?.nickname),1),u("span",Ie,x(o(n).userInfo?.username),1)]))]),o(v)?b("",!0):(i(),g("div",Le,[L(k,{name:"i-lucide-chevrons-up-down",class:"text-muted"})]))],2)):l.mode==="mixture"?(i(),U(R,{key:1,src:o(n).userInfo?.avatar,alt:o(n).userInfo?.nickname,icon:o(n).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])):b("",!0)]),_:1},8,["open","items","content","ui"])],2)],2)}}});export{Ze as default};
