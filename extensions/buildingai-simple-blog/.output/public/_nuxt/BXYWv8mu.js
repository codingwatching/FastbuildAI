import{v as E,e as $,ag as V,m as Y,l as X,ad as b,aO as j,g as D,br as K,bs as G,ae as v,bt as Q,d as g,o as a,O as m,Q as s,M as o,D as d,bu as q,R as k,A as p,x as _,$ as S,aD as F,ak as H,E as J,T as W,bv as Z,U as ee}from"#entry";import{_ as oe}from"./jyUpPKtB.js";import{a as te,b as le}from"./Lkhga0op.js";import{u as ne}from"./BoDbGmVi.js";import{u as ae}from"./BI_iQ0St.js";import{d as se}from"./BIX8KvBm.js";import"./CtrVJqF2.js";import"./DC_dfpV6.js";import"./BKXIIz62.js";import"./DainPixS.js";import"./Bpcbx4eE.js";import"./BPHjYMA3.js";import"./DVjl-Vjq.js";import"./DgnpL2IB.js";import"./CgIjJYO7.js";import"./B8JASgNR.js";import"./IEJmkex5.js";import"./DWj09YU2.js";import"./CFMQFib2.js";import"./BK_ZyOdD.js";import"./BQFQ6RqY.js";import"./B-MRBfXj.js";const ce=["red","orange","yellow","lime","green","teal","cyan","blue","indigo","violet","purple","fuchsia","pink","black"],ie=["slate","gray","zinc","neutral","stone"],re={red:"common.theme.red",orange:"common.theme.orange",yellow:"common.theme.yellow",lime:"common.theme.lime",green:"common.theme.green",teal:"common.theme.teal",cyan:"common.theme.cyan",blue:"common.theme.blue",indigo:"common.theme.indigo",violet:"common.theme.violet",purple:"common.theme.purple",fuchsia:"common.theme.fuchsia",pink:"common.theme.pink",black:"common.theme.black"},ue={slate:"common.theme.slate",gray:"common.theme.gray",zinc:"common.theme.zinc",neutral:"common.theme.neutral",stone:"common.theme.stone"},me={key:0,class:"hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg select-none"},de={class:"flex h-10 items-center justify-between px-3 py-2 text-sm font-medium"},pe={class:"flex items-center gap-1.5",href:"https://www.buildingai.cc",target:"_blank"},fe={key:0,class:"truncate"},he={class:"ml-2 flex flex-col text-left"},ge={class:"block w-35 truncate text-sm font-medium"},ke={class:"text-muted-foreground text-xs"},ye={key:1,class:"text-foreground flex h-full w-full cursor-pointer items-center gap-2 px-1 py-1"},xe={class:"text-sm"},be={class:"flex flex-1 items-center gap-2"},ve={key:0,class:"flex w-[100px] flex-col"},_e={class:"truncate text-sm font-medium"},we={class:"text-secondary-foreground truncate text-xs"},Ie={key:0,class:"flex items-center"},Qe=E({__name:"user-menu",props:{mode:{},collapsed:{type:Boolean},mobileMenu:{type:Boolean}},emits:["update:collapsed"],setup(c,{emit:A}){const L=c,N=A,w=L.mode==="sidebar"?te(L,"collapsed",N):$(!1),f=ne(),{store:r}=le(),i=V(),{locale:M,t,setLocale:R}=Y(),{smartNavigate:T}=ae(),l=X(),O=b("nuxt-ui-language"),y=j(!1),C=D(()=>r.value==="auto"?{label:t("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid"}:r.value==="light"?{label:t("layouts.theme.light"),icon:"i-lucide-sun"}:{label:t("layouts.theme.dark"),icon:"i-lucide-moon"}),P=D(()=>[[{label:"profile",onSelect:()=>{T(`/profile/${l.userInfo?.id}`)}}],[{label:f.consoleLayoutMode==="side"?t("layouts.sidebar"):t("layouts.mixture"),icon:f.consoleLayoutMode==="side"?"i-lucide-panel-left":"i-lucide-panels-top-left",children:[{label:t("layouts.sidebar"),icon:"i-lucide-panel-left",type:"checkbox",checked:f.consoleLayoutMode==="side",onSelect(e){e.preventDefault(),f.consoleLayoutMode="side",b(v.LAYOUT_MODE).value="side"}},{label:t("layouts.mixture"),icon:"i-lucide-panels-top-left",type:"checkbox",checked:f.consoleLayoutMode==="mixture",onUpdateChecked(e){e&&(f.consoleLayoutMode="mixture",b(v.LAYOUT_MODE).value="mixture")},onSelect(e){e.preventDefault()}}]},{label:t("layouts.theme.theme"),icon:"i-lucide-palette",children:[{label:t("layouts.theme.color"),slot:"chip",chip:i.ui.colors.primary,content:{align:"center",collisionPadding:16},children:ce.map(e=>({label:t(re[e]),chip:e,slot:"chip",checked:i.ui.colors.primary===e,type:"checkbox",onSelect:u=>{u.preventDefault();const h=b(v.NUXT_UI_BLACK_AS_PRIMARY),x=b(v.NUXT_UI_PRIMARY);if(x.value=e,i.ui.colors.primary=e,e==="black"){i.theme.blackAsPrimary=!0,h.value=!0,i.ui.colors.primary=e;return}i.theme.blackAsPrimary=!1,h.value=!1}}))},{label:t("layouts.theme.neutralLabel"),slot:"chip",chip:i.ui.colors.neutral,content:{align:"end",collisionPadding:16},children:ie.map(e=>({label:t(ue[e]),chip:e,slot:"chip",type:"checkbox",checked:i.ui.colors.neutral===e,onSelect:u=>{u.preventDefault();const h=b(v.NUXT_UI_NEUTRAL);h.value=e,i.ui.colors.neutral=e}}))}]},{label:C.value.label,icon:C.value.icon,children:[{label:t("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid",type:"checkbox",checked:r.value==="auto",onSelect(e){e.preventDefault(),r.value="auto"}},{label:t("layouts.theme.light"),icon:"i-lucide-sun",type:"checkbox",checked:r.value==="light",onSelect(e){e.preventDefault(),r.value="light"}},{label:t("layouts.theme.dark"),icon:"i-lucide-moon",type:"checkbox",checked:r.value==="dark",onUpdateChecked(e){e&&(r.value="dark")},onSelect(e){e.preventDefault()}}]},{label:G(M.value),icon:"i-lucide-languages",content:{align:"end",collisionPadding:16},children:K.map(e=>({label:`${e.name}`,type:"checkbox",slot:"lang",checked:M.value===e.code,onSelect(u){u.preventDefault(),R(e.code),O.value=e.code}}))}],[{label:t("layouts.officeLink"),icon:"i-lucide-external-link",onSelect(){window.open("https://www.buildingai.cc","_blank")}}],[{label:t("layouts.logout"),icon:"i-lucide-log-out",onSelect(e){e.preventDefault(),l.logout()}}]]);return se({o:()=>y.value=!y.value}),(e,u)=>{const h=q,x=J,I=H,z=Q("RouterLink"),U=F,B=oe;return a(),g("div",{class:S(["flex flex-col gap-1",c.collapsed?"px-1":"px-1.5"])},[o(f).consoleLayoutMode==="side"?(a(),g("div",me,[s("div",de,[s("a",pe,[d(h,{name:"i-lucide-external-link"}),c.collapsed?m("",!0):(a(),g("span",fe,k(o(t)("layouts.officeLink")),1))])])])):m("",!0),s("div",{class:S(["hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg px-3 py-2 select-none",{"bg-secondary dark:bg-surface-800":o(y)}])},[d(B,{open:o(y),"onUpdate:open":u[0]||(u[0]=n=>ee(y)?y.value=n:null),items:o(P),content:c.mode==="mixture"?{sideOffset:4,collisionPadding:14}:{align:"start",side:c.mobileMenu?"top":"right",sideOffset:10,collisionPadding:10},ui:{content:c.collapsed||c.mode==="mixture"?"w-54":"w-(--reka-dropdown-menu-trigger-width)"}},{"chip-leading":p(({item:n})=>[s("span",{style:Z({backgroundColor:n.chip}),class:"ms-0.5 size-2 rounded-full"},null,4)]),"chip-trailing":p(({item:n})=>[n.children?(a(),_(x,{key:0,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):m("",!0)]),"lang-leading":p(({item:n})=>[W(k(n.icon),1)]),item:p(({item:n})=>[n?.label==="profile"?(a(),_(z,{key:0,class:"flex px-1 pt-1.5",to:"/profile"},{default:p(()=>[d(I,{src:o(l).userInfo?.avatar,alt:o(l).userInfo?.nickname,icon:o(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),s("div",he,[s("span",ge,k(o(l).userInfo?.nickname),1),s("span",ke,k(o(l).userInfo?.username),1)])]),_:1})):(a(),g("div",ye,[d(x,{name:n.icon,class:"text-muted-foreground text-lg"},null,8,["name"]),s("span",xe,k(n.label),1)])),n.children?(a(),_(x,{key:2,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):m("",!0),n.checked?(a(),_(x,{key:3,name:"i-lucide-check",class:"text-muted-foreground text-lg"})):m("",!0)]),default:p(()=>[c.mode==="sidebar"?(a(),g("div",{key:0,class:S(["flex flex-1 items-center justify-center gap-2 select-none",{"flex-col":o(w)}])},[s("div",be,[d(U,{color:"success",inset:""},{default:p(()=>[d(I,{src:o(l).userInfo?.avatar,alt:o(l).userInfo?.nickname,icon:o(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])]),_:1}),o(w)?m("",!0):(a(),g("div",ve,[s("span",_e,k(o(l).userInfo?.nickname),1),s("span",we,k(o(l).userInfo?.username),1)]))]),o(w)?m("",!0):(a(),g("div",Ie,[d(h,{name:"i-lucide-chevrons-up-down",class:"text-muted"})]))],2)):c.mode==="mixture"?(a(),_(U,{key:1,inset:""},{default:p(()=>[d(I,{src:o(l).userInfo?.avatar,alt:o(l).userInfo?.nickname,icon:o(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])]),_:1})):m("",!0)]),_:1},8,["open","items","content","ui"])],2)],2)}}});export{Qe as default};
