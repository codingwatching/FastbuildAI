const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./XFeqHwXL.js","./CD9n9mvV.js","./B-MRBfXj.js","./DC_dfpV6.js","./CgIjJYO7.js","./DgnpL2IB.js","./B8JASgNR.js","./IEJmkex5.js","./Bnx53_OS.js","./HUy2yv5I.js","./uOsG-Y8x.js","./BI_iQ0St.js","./BXYWv8mu.js","./jyUpPKtB.js","./CtrVJqF2.js","./BKXIIz62.js","./DainPixS.js","./Bpcbx4eE.js","./BPHjYMA3.js","./DVjl-Vjq.js","./Lkhga0op.js","./BoDbGmVi.js","./DWj09YU2.js","./CFMQFib2.js","./BK_ZyOdD.js","./BQFQ6RqY.js","./BIX8KvBm.js","./DvslZZMk.js","./o4z_UXAX.js","./j-r9zBVO.js","./DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{v as A,d as f,o as p,$ as g,D as c,bM as Y,af as J,ar as X,ag as Z,g as k,aj as N,x as w,A as x,Q as u,aC as V,z as ee,O as y,bo as te,F as U,M as e,bp as se,bq as oe,r as L,E,ak as D,az as j,T as ae,R as S,P as ne,c4 as F,bR as le,bS as ie,l as re,e as q,bx as C,ab as ce,a_ as G,c5 as ue,m as de,q as M,_ as z,aN as me,aO as T,a1 as pe,i as fe,S as ge,U as K,c6 as _e,bU as ve,c7 as be}from"#entry";import{_ as he}from"./BxJ54I4v.js";import{c as xe,a as ye}from"./Lkhga0op.js";import{u as ke}from"./DtJrBhUs.js";import{_ as $e}from"./BoDbGmVi.js";import{_ as we}from"./2mWc46YY.js";import{_ as Ie}from"./rWYP5ft7.js";import{d as Le}from"./BIX8KvBm.js";import{_ as Se}from"./DlAUqK2U.js";/* empty css        */import"./DWj09YU2.js";import"./DgnpL2IB.js";import"./DainPixS.js";import"./CFMQFib2.js";import"./BK_ZyOdD.js";import"./BQFQ6RqY.js";import"./CtrVJqF2.js";import"./DC_dfpV6.js";import"./BKXIIz62.js";import"./Bpcbx4eE.js";import"./BPHjYMA3.js";import"./DVjl-Vjq.js";import"./CgIjJYO7.js";import"./B-MRBfXj.js";import"./B8JASgNR.js";import"./IEJmkex5.js";import"./CJ3wFgte.js";const Me=A({__name:"main-page",props:{layout:{}},setup(s){return(t,i)=>{const r=Y;return p(),f("main",{class:g(["w-full flex-1 overflow-auto px-4 lg:px-6",s.layout==="sidebar"?"pt-0":"my-4 lg:my-6"])},[c(r)],2)}}}),ze={slots:{root:"relative min-w-0",list:"flex items-center gap-1.5",item:"flex min-w-0",link:"group relative flex items-center gap-1.5 text-sm min-w-0 focus-visible:outline-primary",linkLeadingIcon:"shrink-0 size-5",linkLeadingAvatar:"shrink-0",linkLeadingAvatarSize:"2xs",linkLabel:"truncate",separator:"flex",separatorIcon:"shrink-0 size-5 text-muted"},variants:{active:{true:{link:"text-primary font-semibold"},false:{link:"text-muted font-medium"}},disabled:{true:{link:"cursor-not-allowed opacity-75"}},to:{true:""}},compoundVariants:[{disabled:!1,active:!1,to:!0,class:{link:["hover:text-default","transition-colors"]}}]},Ae={__name:"Breadcrumb",props:{as:{type:null,required:!1,default:"nav"},items:{type:Array,required:!1},separatorIcon:{type:String,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(s){const t=s,i=J(),{dir:r}=X(),d=Z(),m=k(()=>t.separatorIcon||(r.value==="rtl"?d.ui.icons.chevronLeft:d.ui.icons.chevronRight)),n=k(()=>N({extend:N(ze),...d.ui?.breadcrumb||{}})());return(l,_)=>(p(),w(e(ne),{as:s.as,"aria-label":"breadcrumb",class:g(n.value.root({class:[t.ui?.root,t.class]}))},{default:x(()=>[u("ol",{class:g(n.value.list({class:t.ui?.list}))},[(p(!0),f(V,null,ee(s.items,(o,a)=>(p(),f(V,{key:a},[u("li",{class:g(n.value.item({class:[t.ui?.item,o.ui?.item]}))},[c(te,U({ref_for:!0},e(se)(o),{custom:""}),{default:x(({active:I,...$})=>[c(oe,U({ref_for:!0},$,{as:"span","aria-current":I&&a===s.items.length-1?"page":void 0,class:n.value.link({class:[t.ui?.link,o.ui?.link,o.class],active:a===s.items.length-1,disabled:!!o.disabled,to:!!o.to})}),{default:x(()=>[L(l.$slots,o.slot||"item",{item:o,index:a},()=>[L(l.$slots,o.slot?`${o.slot}-leading`:"item-leading",{item:o,active:a===s.items.length-1,index:a},()=>[o.icon?(p(),w(E,{key:0,name:o.icon,class:g(n.value.linkLeadingIcon({class:[t.ui?.linkLeadingIcon,o.ui?.linkLeadingIcon],active:a===s.items.length-1}))},null,8,["name","class"])):o.avatar?(p(),w(D,U({key:1,size:t.ui?.linkLeadingAvatarSize||n.value.linkLeadingAvatarSize()},{ref_for:!0},o.avatar,{class:n.value.linkLeadingAvatar({class:[t.ui?.linkLeadingAvatar,o.ui?.linkLeadingAvatar],active:a===s.items.length-1})}),null,16,["size","class"])):y("",!0)]),e(j)(o,t.labelKey)||i[o.slot?`${o.slot}-label`:"item-label"]?(p(),f("span",{key:0,class:g(n.value.linkLabel({class:[t.ui?.linkLabel,o.ui?.linkLabel]}))},[L(l.$slots,o.slot?`${o.slot}-label`:"item-label",{item:o,active:a===s.items.length-1,index:a},()=>[ae(S(e(j)(o,t.labelKey)),1)])],2)):y("",!0),L(l.$slots,o.slot?`${o.slot}-trailing`:"item-trailing",{item:o,active:a===s.items.length-1,index:a})])]),_:2},1040,["aria-current","class"])]),_:2},1040)],2),a<s.items.length-1?(p(),f("li",{key:0,role:"presentation","aria-hidden":"true",class:g(n.value.separator({class:[t.ui?.separator,o.ui?.separator]}))},[L(l.$slots,"separator",{},()=>[c(E,{name:m.value,class:g(n.value.separatorIcon({class:[t.ui?.separatorIcon,o.ui?.separatorIcon]}))},null,8,["name","class"])])],2)):y("",!0)],64))),128))],2)]),_:3},8,["as","class"]))}};function Be(){return F("/users/info")}const Ue=le("permission",()=>{const s=re(),t=q([]),i=q([]),r=m=>i.value.includes(m),{lockFn:d}=ke(async()=>{const m=await Be();t.value=m.menus||[],i.value=m.permissions||[],s.userInfo=m.user?m.user:null});return{menus:t,permissions:i,hasPermission:r,loadPermissions:d}}),Ee=ie(),Te=()=>Ue(Ee);function Ce(s,t){return s+(t?.startsWith("/")?t:`/${t||""}`)}function Oe(s,t){return s.filter(i=>i.type!==ue.BUTTON&&t).sort((i,r)=>(i.sort||0)-(r.sort||0))}function Pe(s=C().path,t="/",i="后台管理"){if(!s||s===t)return[{label:i,to:t,active:!0}];const{$i18n:r}=ce(),{t:d}=r,m=[];return Q(Te().menus,(n,l)=>{if(s===l||s.startsWith(l+"/")){if(n.type===1){m.push({name:n.name,path:""});return}m.push({name:n.name,path:l})}return[]}),m.sort((n,l)=>n.path.length-l.path.length),[{label:i,to:t},...m.map((n,l,_)=>({label:d(n.name),to:n.path,active:l===_.length-1}))]}function Q(s,t,i=G.CONSOLE){return Oe(s,!0).flatMap(r=>{let d=Ce(i,r.path);d=d.replace(/\/+/g,"/");const m=t(r,d,i),n=r.children?.length?Q(r.children,t,d):[];return[].concat(m,n)})}const Re={class:"flex items-center gap-2"},Ne={class:"flex items-center gap-2"},Ve=A({__name:"sidebar-navbar",props:{collapsed:{type:Boolean}},emits:["toggle","open-mobile-menu"],setup(s,{emit:t}){const i=M(()=>z(()=>import("./XFeqHwXL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),r=M(()=>z(()=>import("./Bnx53_OS.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]),import.meta.url)),d=M(()=>z(()=>import("./HUy2yv5I.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,10,11]),import.meta.url)),m=s,n=t,{t:l}=de(),_=xe("(max-width: 768px)");function o(){_.value?n("open-mobile-menu"):n("toggle",!m.collapsed)}const a=k(()=>Pe(C().path,G.CONSOLE,l("layouts.admin")));return(I,$)=>{const b=he,h=Ae;return p(),f("header",{class:g(["flex h-16 w-full shrink-0 items-center justify-between gap-4 px-4 transition-all ease-linear",{"h-12":s.collapsed}])},[u("div",Re,[c(e(i),{collapsed:s.collapsed,onToggle:o},null,8,["collapsed"]),c(e(r)),c(b,{orientation:"vertical",class:"h-4"}),c(h,{items:e(a),ui:{root:"ml-2"}},{separator:x(()=>[...$[0]||($[0]=[u("span",{class:"bg-muted-foreground mx-2 rounded-full p-0.5"},null,-1)])]),_:1},8,["items"])]),u("div",Ne,[c(e(d))])],2)}}});function je(s){return F(`/extensions/detail/${s}`)}const qe={key:0,class:"p-1"},De={key:0,class:"group/logo relative flex items-center justify-center"},Fe={key:1,class:"space-y-2"},Ge={class:"flex items-center justify-between"},Ke=["title"],Qe=["title"],We={class:"flex flex-grow flex-col overflow-hidden px-1 py-4"},He={style:{"--text-color-muted":"var(--color-accent-foreground)","--text-color-dimmed":"var(--color-accent-foreground)"}},Ye={class:"bg-sidebar flex h-screen w-64 flex-col p-2 transition-all duration-300"},Je={key:0,class:"mt-2 mb-2"},Xe={class:"bg-secondary rounded-lg p-2"},Ze={class:"space-y-1"},et={class:"flex items-center gap-2"},tt=["title"],st={class:"flex items-center gap-1.5"},ot=["title"],at={class:"flex flex-grow flex-col overflow-y-auto py-4"},nt={style:{"--text-color-muted":"var(--color-accent-foreground)","--text-color-dimmed":"var(--color-accent-foreground)"}},lt=A({__name:"sidebar",props:{collapsed:{type:Boolean},mobileMenu:{type:Boolean},manifest:{}},emits:["update:mobileMenu"],setup(s,{emit:t}){const i=M(()=>z(()=>import("./BXYWv8mu.js"),__vite__mapDeps([12,1,13,14,3,15,16,17,18,19,5,4,6,7,20,21,22,23,24,25,2,11,26]),import.meta.url)),r=M(()=>z(()=>import("./DvslZZMk.js"),__vite__mapDeps([27,1,28,29,30]),import.meta.url)),d=s,n=ye(d,"mobileMenu",t),l=k(()=>d.collapsed),_=me("pluginConsoleMenu",k(()=>[])),o=k(()=>{const b=e(_);return b?.length?[b]:[]}),a=T(null);pe();const I=()=>{window.location.href="/console/plugins/manage"},$=async()=>{console.log("props.manifest",d.manifest);const b=await je(d.manifest?.identifier);a.value=b,console.log("pluginInfo",a.value)};return Le({o:()=>n.value=!n.value}),fe(()=>$()),(b,h)=>{const B=D,O=ge,P=E,R=$e,W=we,H=Ie;return p(),f("div",null,[u("aside",{class:g(["bg-sidebar hidden h-screen flex-col p-2 transition-all duration-300 md:flex",{"w-16":e(l),"w-64":!e(l)}])},[e(a)?(p(),f("div",qe,[u("div",{class:g(["bg-secondary rounded-lg p-3 transition-all",e(l)?"flex items-center justify-center bg-transparent! p-1!":""])},[e(l)?(p(),f("div",De,[c(B,{class:"m-1 size-9 opacity-100 group-hover/logo:opacity-0",src:e(a).icon,text:e(a).author?.name,size:"md"},null,8,["src","text"]),c(O,{color:"primary",class:"size-10 rounded-full",icon:"i-lucide-arrow-left",variant:"soft",ui:{base:"flex cursor-pointer absolute inset-0 z-1 justify-center items-center group-hover/logo:opacity-100 opacity-0"},label:e(l)?"":b.$t("layouts.pluginSidebar"),onClick:I},null,8,["label"])])):(p(),f("div",Fe,[u("div",Ge,[c(O,{color:"primary",icon:"i-lucide-arrow-left",variant:"soft",class:"rounded-full",onClick:I}),c(B,{src:e(a).icon,text:e(a).author?.name,size:"md"},null,8,["src","text"])]),u("h3",{class:"text-foreground mb-0.5! truncate text-sm font-semibold",title:e(a).name},S(e(a).name),9,Ke),u("div",{class:"text-muted-foreground text-xs",title:`版本: ${e(a).version}`}," v"+S(e(a).version),9,Qe)]))],2)])):y("",!0),c(W,{class:"flex-1"},{default:x(()=>[u("div",We,[u("div",He,[c(R,{collapsed:e(l),orientation:"vertical",items:e(o),ui:{label:"text-muted-foreground",list:"navbar-menu",link:e(l)?"justify-center size-10 hover:bg-secondary dark:hover:bg-surface-800 rounded-lg":"justify-start hover:bg-secondary dark:hover:bg-surface-800 p-2 px-3 leading-6 rounded-lg",linkLeadingIcon:e(l)?"size-4.5":"size-4"}},{"item-trailing":x(({item:v})=>[v.children?.length?(p(),w(P,{key:0,name:"i-lucide-chevron-right",class:"iconify iconify--lucide size-4 shrink-0 transform transition-transform duration-200 group-data-[state=open]:rotate-90"})):y("",!0)]),_:1},8,["collapsed","items","ui"])])])]),_:1}),c(e(i),{"hidden-layout":!0,mode:"sidebar",collapsed:e(l),"mobile-menu":!1,"onUpdate:collapsed":h[0]||(h[0]=v=>l.value=v)},null,8,["collapsed"])],2),c(H,{open:e(n),"onUpdate:open":h[2]||(h[2]=v=>K(n)?n.value=v:null),side:"left",ui:{content:"!w-fit flex-0 max-w-fit"}},{content:x(()=>[u("aside",Ye,[c(e(r),{layout:"side",collapsed:!1}),e(a)?(p(),f("div",Je,[u("div",Xe,[u("div",Ze,[u("div",et,[c(B,{src:e(a).icon,text:e(a).author?.name,size:"xs"},null,8,["src","text"]),u("h3",{class:"text-foreground truncate text-sm font-semibold",title:e(a).name},S(e(a).name),9,tt)]),u("div",st,[u("span",{class:"text-muted-foreground text-xs",title:`版本: ${e(a).version}`}," v"+S(e(a).version),9,ot)])])])])):y("",!0),u("div",at,[u("div",nt,[c(R,{collapsed:!1,orientation:"vertical",items:e(o),ui:{list:"navbar-menu",link:"justify-start hover:bg-secondary dark:hover:bg-surface-800 p-2 px-3 leading-6 rounded-lg",linkLeadingIcon:"size-4"}},{"item-trailing":x(({item:v})=>[v.children?.length?(p(),w(P,{key:0,name:"i-lucide-chevron-right",class:"iconify iconify--lucide size-4 shrink-0 transform transition-transform duration-200 group-data-[state=open]:rotate-90"})):y("",!0)]),_:1},8,["items"])])]),c(e(i),{mode:"sidebar",collapsed:e(l),"mobile-menu":!0,"onUpdate:collapsed":h[1]||(h[1]=v=>l.value=v)},null,8,["collapsed"])])]),_:1},8,["open"])])}}}),it=Se(lt,[["__scopeId","data-v-723d26e4"]]),rt={class:"bg-sidebar flex h-screen w-full overflow-hidden"},ct={class:"app-sidebar"},ut={class:"bg-background m-0 flex min-w-0 flex-1 flex-col items-center shadow-lg md:m-2 md:ml-0 md:rounded-xl"},dt=A({__name:"index",props:{menu:{},manifest:{}},setup(s){const t=s,i=T(!1),r=T(!1),d=()=>{i.value=!i.value},m=()=>{r.value=!0},n=k(()=>{if(!t.menu?.length)return[];const l=C().path;return _e(t.menu,l)});return ve("pluginConsoleMenu",n),(l,_)=>(p(),f("div",rt,[u("div",ct,[c(it,{collapsed:e(i),manifest:t.manifest,"mobile-menu":e(r),"onUpdate:mobileMenu":_[0]||(_[0]=o=>K(r)?r.value=o:null)},null,8,["collapsed","manifest","mobile-menu"])]),u("div",ut,[c(Ve,{collapsed:e(i),"mobile-menu":e(r),onToggle:d,onOpenMobileMenu:m},null,8,["collapsed","mobile-menu"]),c(Me,{layout:"sidebar"})])]))}}),mt="buildingai-simple-blog",pt="Simple Blog",ft="application",gt="0.0.1",_t="A simple blog application",vt="",bt={name:"BuildingAI Teams",homepage:""},ht=[],xt={identifier:mt,name:pt,type:ft,version:gt,description:_t,homepage:vt,author:bt,changelog:ht},Wt=A({__name:"console",setup(s){return(t,i)=>(p(),w(e(dt),{menu:e(be),manifest:e(xt)},null,8,["menu","manifest"]))}});export{Wt as default};
