import{a1 as w,a2 as P,a3 as h}from"#entry";function g(s){return s.startsWith("/extensions")}function i(s,c,r=!1){return c||r||g(s)}function R(){const s=P(),c=w(),r=s.public.isPlugin,o=s.public.appBaseURL||"/",l=t=>typeof t=="string"?t:c.resolve(t).href,u=t=>t.startsWith(o)?t:t.replace(new RegExp(`^${o}`),"");return{smartNavigate:(t,n)=>{const{newTab:a=!1,forceLocation:f=!1}=n||{},e=l(t);if(e.startsWith("http://")||e.startsWith("https://")){a?window.open(e,"_blank","noopener,noreferrer"):window.location.href=e;return}if(a){const p=i(e,r,f)?e:r?`${o}${e}`.replace(/\/+/g,"/"):e;window.open(p,"_blank","noopener,noreferrer");return}i(e,r,f)?window.location.href=u(e):h(t)},smartReplace:t=>{const n=l(t);i(n,r)?window.location.replace(n):h(t,{replace:!0})},toAbsolutePath:t=>{if(t.startsWith("http://")||t.startsWith("https://"))return t;if(i(t,r)){const n=u(t),a=n.startsWith("/")?n:`/${n}`;return`${window.location.origin}${a}`}return t},isPlugin:r,baseURL:o,isExtensionPath:g}}export{R as u};
