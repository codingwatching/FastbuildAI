const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DvE7tSFs.js","./cd55qm53.js","./n4aLOYdS.js","./D_3bTjYR.js","./D9sX2Qi6.js","./D19QCKnC.js","./LSmoYDCw.js","./B3XNqw4u.js","./zlMhJk0P.js","./CuVAPZQ8.js","./BhB8DUPm.js","./BVraOlsu.js","./BxwUS5gW.js","./MCK2d4XT.js","./EK7Wbu3-.js","./BdEw_i3s.js"])))=>i.map(i=>d[i]);
import{d as A,b4 as S,i as C,at as B,j as D,aN as E,c as w,x as n,z as i,g as e,t as o,w as l,b5 as F,o as v,W as k,_ as L,A as f,f as P,X as y}from"#entry";import{_ as T}from"./DUJH4dqr.js";import $ from"./cd55qm53.js";import{_ as j}from"./D_3bTjYR.js";import{_ as M}from"./DBiaUVBh.js";import"./DWy_CFG9.js";import"./td2xDKru.js";import"./RPflLnqr.js";import"./TrJvDfxI.js";import"./jsPNKUA0.js";import"./Bzv9SrOl.js";import"./D9sX2Qi6.js";const O={class:"mx-auto md:w-[600px] lg:w-[750px] xl:w-[850px]"},R={class:"mt-8 mb-6 text-lg font-medium"},W={class:"bg-accent mb-6 flex items-center rounded-xl p-6"},q={class:"ml-4"},X={class:"text-foreground text-md font-semibold"},G={class:"text-muted-foreground mt-1 text-sm"},H={class:"space-y-8"},J={class:"flex items-center gap-2"},K={class:"flex-none"},Q={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2"},Z={class:"flex items-center gap-2"},ee={class:"flex items-center gap-2"},oe={class:"flex items-center gap-2"},se={key:1},te={class:"mt-8 mb-6 text-lg font-medium"},ne={class:"space-y-8"},le={class:"flex items-center gap-2"},ae={class:"flex-none"},re={class:"flex items-center gap-2"},we=A({__name:"index",setup(ie){const z=k(()=>y(()=>import("./DvE7tSFs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),h=k(()=>y(()=>import("./BdEw_i3s.js"),__vite__mapDeps([15,2,1,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),{copy:g}=S(),{t:s}=C(),p=B(),t=D(),{lockFn:x,isLock:b}=E(async(I,a)=>{try{const m=await F({field:I,value:a});t.getUser(),p.success(m.message)}catch(m){console.error("修改失败:",m)}});async function V(){t.userInfo?.userNo&&(await g(t.userInfo.userNo),p.success(s("console-common.messages.copySuccess")))}async function U(){t.userInfo?.username&&(await g(t.userInfo.username),p.success(s("console-common.messages.copySuccess")))}function _(){p.info(s("user.frontend.profile.featureNotAvailable"))}return(I,a)=>{const m=T,u=$,c=L,d=j,N=M;return v(),w("div",O,[n("section",null,[n("h2",R,i(e(s)("user.frontend.profile.myAccount")),1),n("div",W,[n("div",null,[o(m,{modelValue:e(t).userInfo.avatar,"onUpdate:modelValue":a[0]||(a[0]=r=>e(t).userInfo.avatar=r),class:"size-16 overflow-hidden !rounded-full",text:e(s)("user.frontend.profile.uploadAvatar"),icon:"i-lucide-user",accept:".jpg,.png,.jpeg",maxCount:1,single:!0,onSuccess:a[1]||(a[1]=r=>e(x)("avatar",r.url))},null,8,["modelValue","text"])]),n("div",q,[n("div",X,i(e(t).userInfo?.nickname||e(s)("user.frontend.profile.notSet")),1),n("div",G,i(e(t).userInfo?.phone||e(t).userInfo?.email||"-"),1)])]),n("div",H,[o(d,{label:e(s)("user.frontend.profile.nickname"),required:"",name:"nickname"},{default:l(()=>[n("div",J,[o(u,{modelValue:e(t).userInfo.nickname,"onUpdate:modelValue":a[2]||(a[2]=r=>e(t).userInfo.nickname=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),n("div",K,[o(e(z),{loading:e(b),"current-value":e(t).userInfo?.nickname,class:"flex-none",size:"lg",onSuccess:a[3]||(a[3]=r=>e(x)("nickname",r))},{default:l(()=>[o(c,{variant:"soft"},{default:l(()=>[f(i(e(s)("console-common.edit")),1)]),_:1})]),_:1},8,["loading","current-value"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.userNo"),name:"userNo"},{default:l(()=>[n("div",Q,[o(u,{modelValue:e(t).userInfo.userNo,"onUpdate:modelValue":a[4]||(a[4]=r=>e(t).userInfo.userNo=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:V},{default:l(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.username"),name:"username"},{default:l(()=>[n("div",Y,[o(u,{modelValue:e(t).userInfo.username,"onUpdate:modelValue":a[5]||(a[5]=r=>e(t).userInfo.username=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:U},{default:l(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.email"),name:"email"},{default:l(()=>[n("div",Z,[o(u,{"model-value":e(t).userInfo.email||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.phone"),name:"phone"},{default:l(()=>[n("div",ee,[o(u,{"model-value":e(t).userInfo.phone||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.registrationTime"),name:"createdAt"},{default:l(()=>[n("div",oe,[o(u,{variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},{leading:l(()=>[e(t).userInfo?.createdAt?(v(),P(N,{key:0,datetime:e(t).userInfo.createdAt,mode:"datetime"},null,8,["datetime"])):(v(),w("span",se,"-"))]),_:1})])]),_:1},8,["label"])])]),n("section",null,[n("h2",te,i(e(s)("user.frontend.profile.accountSecurity")),1),n("div",ne,[o(d,{label:e(s)("user.frontend.profile.loginPassword"),name:"password"},{default:l(()=>[n("div",le,[o(u,{"model-value":e(t).userInfo.password?e(s)("user.frontend.profile.passwordSet"):e(s)("user.frontend.profile.passwordSet"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),n("div",ae,[o(e(h),{loading:e(b),class:"flex-none",size:"lg"},{default:l(()=>[o(c,{size:"lg",variant:"soft"},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})]),_:1},8,["loading"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.deactivateAccount"),name:"deactivate"},{default:l(()=>[n("div",re,[o(u,{"model-value":e(s)("user.frontend.profile.deactivateWarning"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",color:"error",onClick:_},{default:l(()=>[f(i(e(s)("user.frontend.profile.deactivate")),1)]),_:1})])]),_:1},8,["label"])])])])}}});export{we as default};
