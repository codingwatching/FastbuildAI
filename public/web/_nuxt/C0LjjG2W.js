import{d as w,e as y,i as C,k as A,o as B,l as i,t as o,m as s,z as S,x as r,A as $,D,q as z}from"#entry";import{_ as U}from"./CsY35JUW.js";import{_ as I}from"./BixMXl5t.js";import{_ as N}from"./DNJQj0yQ.js";import{u as T}from"./zDgZcZqa.js";import"./DBwQYu6J.js";import"./DnFVE45b.js";import"./DegKy-XA.js";import"./DSCppvl0.js";import"./7d3iyZ8h.js";import"./6WwfWHXT.js";import"./KiG0a5S-.js";import"./CXk2IlXx.js";import"./kRIii9yh.js";import"./B1TeSxwV.js";import"./C6Y-ieo6.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";import"./cwT2REE1.js";import"./DaC7Nksz.js";import"./DJ9SNVgt.js";import"./CgMDXot0.js";import"./DVSiT9pd.js";import"./CZsOHrUj.js";import"./D_1uxSdv.js";import"./DoL5-2Ox.js";const V={class:"text-secondary-foreground flex items-center text-base font-semibold"},j={class:"mr-2 line-clamp-1"},q={class:"text-accent-foreground flex items-center gap-2 text-xs"},F={class:"mr-2 line-clamp-1"},M={class:"flex justify-between gap-2"},E={class:"text-accent-foreground flex items-center gap-4 text-xs"},G={class:"flex items-center gap-1"},H={class:"text-muted-foreground flex items-center gap-1 text-xs"},xe=w({__name:"chats-card",props:{conversation:{},selected:{type:Boolean,default:!1}},emits:["select","delete","toggle-pin","view-detail"],setup(t,{emit:d}){const n=d,a=t,{t:l}=y(),{hasAccessByCodes:p}=T();function u(e){return e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString()}function f(e){typeof e=="boolean"&&n("select",a.conversation,e)}function _(){n("view-detail",a.conversation.id)}const v=C(()=>{const e=[];return e.push({label:l("ai-chat.backend.actions.viewDetail"),icon:"i-lucide-eye",onSelect:()=>n("view-detail",a.conversation.id)}),p(["ai-conversations:ai_conversation_delete"])&&e.push({label:l("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>n("delete",a.conversation)}),e});return(e,J)=>{const x=D,m=U,c=S,h=I,g=N;return B(),A(g,{selectable:"",clickable:"","show-actions":"",variant:"outlined",class:"cursor-pointer",selected:t.selected,actions:z(v),onSelect:f,onClick:_},{icon:i(({groupHoverClass:k,selectedClass:b})=>[s(x,{src:t.conversation?.user?.avatar,alt:t.conversation.title,size:"3xl",class:$(["bg-primary",[k,b]]),ui:{root:"rounded-lg",fallback:"text-inverted"}},null,8,["src","alt","class"])]),title:i(()=>[o("h3",V,[s(m,{text:t.conversation.title,delay:0},{default:i(()=>[o("span",j,r(t.conversation.title),1)]),_:1},8,["text"])])]),description:i(()=>[o("div",q,[s(c,{name:"i-lucide-user",class:"h-3 w-3"}),s(m,{text:t.conversation?.user?.nickname,delay:0},{default:i(()=>[o("span",F,r(t.conversation?.user?.nickname),1)]),_:1},8,["text"])])]),footer:i(()=>[o("div",M,[o("div",E,[o("div",G,[s(c,{name:"i-lucide-message-circle",class:"h-3 w-3"}),o("span",null,r(u(t.conversation.messageCount)),1)])]),o("div",H,[s(c,{name:"i-lucide-clock",class:"h-3 w-3"}),s(h,{datetime:t.conversation.updatedAt,mode:"relative"},null,8,["datetime"])])])]),_:1},8,["selected","actions"])}}});export{xe as default};
