import{d as j,e as L,s as v,j as N,k,o as i,l as _,c,q as t,t as e,m as r,x as o,_ as V,v as b,z as M,D as P,y as x,F as $,C as w,B as W}from"#entry";import{_ as F}from"./B-p4_8pw.js";import{_ as G}from"./BixMXl5t.js";import{_ as R}from"./D4-hkFz_.js";import{E as l}from"./XBYuZpdu.js";import{f as S,g as q}from"./BdGqAD-s.js";import"./C4jlvBh2.js";import"./DDJ79SjH.js";import"./Ti3HjCpC.js";import"./DegKy-XA.js";import"./B1TeSxwV.js";import"./r_Dti2HQ.js";const H={key:0,class:"flex flex-col pr-4",style:{width:"400px"}},X={class:"flex items-center justify-between py-2"},J={class:"text-secondary-foreground text-xl font-bold"},K={class:"flex-1 overflow-y-auto"},O={class:"flex flex-col space-y-6"},Q={class:"mt-6 flex items-start gap-4"},Y={class:"flex-1"},Z={class:"text-secondary-foreground flex items-center gap-2 text-base"},ee={class:"text-accent-foreground my-2 text-sm dark:text-gray-400"},te={class:"flex items-center gap-4"},se={class:"flex gap-1"},oe={class:"text-secondary-foreground mb-2 font-medium"},ne={class:"text-accent-foreground dark:text-gray-400"},ae={class:"text-secondary-foreground mb-2 font-medium"},ie={class:"flex items-center gap-2"},re={class:"text-accent-foreground dark:text-gray-400"},ce={key:0,class:"text-error flex items-center gap-1"},le={class:"text-xs leading-none"},de={class:"text-secondary-foreground mb-2 font-medium"},me={class:"text-accent-foreground dark:text-gray-400"},_e={class:"text-secondary-foreground mb-2 font-medium"},ue={class:"text-accent-foreground dark:text-gray-400"},fe={key:0},pe={class:"text-secondary-foreground mb-2 font-medium"},xe={class:"space-y-3"},he={class:"mb-1 flex items-center justify-between"},ge={class:"text-secondary-foreground font-medium"},ye={class:"text-muted-foreground text-sm dark:text-gray-400"},ve={class:"text-accent-foreground text-sm dark:text-gray-400"},ke={class:"flex gap-3 pb-4"},be={key:1,class:"flex h-full w-full items-center justify-center",style:{width:"400px"}},Le=j({__name:"details",props:{isIdentifier:{type:Boolean},extensionId:{},identifier:{}},emits:["close"],setup(B,{emit:I}){const T=I,u=B,{t:d}=L(),m=v(!0),s=v(null),C=n=>({[l.WEB]:d("extensions.modal.terminalTypes.web"),[l.WEIXIN]:d("extensions.modal.terminalTypes.weixin"),[l.H5]:d("extensions.modal.terminalTypes.h5"),[l.MP]:d("extensions.modal.terminalTypes.mp"),[l.API]:d("extensions.modal.terminalTypes.api")})[n]||"未知",E=async()=>{const n=u.isIdentifier?await S(u.extensionId):await q(u.identifier);s.value=n};function h(){T("close"),m.value=!1}return N(()=>{E()}),(n,f)=>{const g=V,p=M,z=P,y=F,A=G,D=R;return i(),k(D,{open:t(m),"onUpdate:open":f[0]||(f[0]=a=>W(m)?m.value=a:null),"set-background-color-on-scale":!1,direction:"right","should-scale-background":""},{content:_(()=>[t(s)?(i(),c("div",H,[e("div",X,[e("h2",J,o(n.$t("extensions.market.detail")),1),r(g,{color:"neutral",variant:"ghost",icon:"i-lucide-x",onClick:h})]),e("div",K,[e("div",O,[e("div",Q,[r(z,{src:t(s).icon,alt:t(s).name,size:"3xl",ui:{root:"rounded-lg"}},{fallback:_(()=>[r(p,{name:"i-lucide-puzzle",class:"text-muted-foreground h-8 w-8"})]),_:1},8,["src","alt"]),e("div",Y,[e("h3",Z,[x(o(t(s).name)+" ",1),r(y,{size:"sm"},{default:_(()=>[x(o(n.$t("extensions.market.officialTeam")),1)]),_:1})]),e("p",ee,o(n.$t("extensions.market.author"))+": "+o(t(s)?.author?.name||t(s)?.user),1),e("div",te,[e("div",se,[(i(!0),c($,null,w(t(s).supportTerminal,a=>(i(),k(y,{color:a===t(l).WEB?"success":a===t(l).API?"info":"neutral",variant:"soft",label:C(a)},null,8,["color","label"]))),256))])])])]),e("div",null,[e("h4",oe,o(n.$t("extensions.develop.form.version")),1),e("p",ne,o(t(s).version),1)]),e("div",null,[e("h4",ae,o(n.$t("extensions.market.platformVersion")),1),e("div",ie,[e("span",re,o(t(s).engine),1),t(s).isCompatible?b("",!0):(i(),c("div",ce,[r(p,{name:"i-lucide-circle-alert",class:"size-3.5 cursor-pointer"}),e("span",le,o(n.$t("extensions.manage.incompatible")),1)]))])]),e("div",null,[e("h4",de,o(n.$t("extensions.market.description")),1),e("p",me,o(t(s).description||t(s).describe),1)]),e("div",null,[e("h4",_e,o(n.$t("extensions.market.updateTime")),1),e("p",ue,o(t(s).updatedAt||t(s).createdAt),1)]),t(s).versionLists&&t(s).versionLists.length>0?(i(),c("div",fe,[e("h4",pe,o(n.$t("extensions.market.changelog")),1),e("div",xe,[(i(!0),c($,null,w(t(s).versionLists.slice(0,3),(a,U)=>(i(),c("div",{key:U,class:"bg-muted rounded-lg p-3"},[e("div",he,[e("span",ge," v"+o(a.version),1),e("span",ye,[r(A,{datetime:a.createdAt,mode:"date"},null,8,["datetime"])])]),e("p",ve,o(a.explain),1)]))),128))])])):b("",!0)])]),e("div",ke,[r(g,{color:"neutral",variant:"outline",class:"flex-1 justify-center",size:"lg",onClick:h},{default:_(()=>[x(o(n.$t("console-common.close")),1)]),_:1})])])):(i(),c("div",be,[r(p,{name:"i-lucide-package-search",class:"h-12 w-12 text-gray-400"})]))]),_:1},8,["open"])}}});export{Le as default};
