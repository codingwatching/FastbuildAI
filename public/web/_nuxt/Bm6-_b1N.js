import{_ as y}from"./DyTskiS5.js";import{_ as C}from"./Brlt-NDg.js";import h from"./CDSfhndf.js";import{_ as $}from"./Cfk2CblA.js";import{_ as B}from"./ilPiIi3f.js";import{d as D,e as F,ap as I,aN as j,aK as q,j as N,k as L,o as M,l as n,t as r,m as l,q as o,x as p,y as f,_ as S}from"#entry";import{_ as A}from"./BYm23QKU.js";import{a as R,b as z}from"./DkAujwQK.js";import{u as G}from"./UqhBTNL6.js";import"./DoL5-2Ox.js";import"./DVSiT9pd.js";import"./D_1uxSdv.js";import"./CjOovgR0.js";import"./DXP7Kkdt.js";import"./BRI4D6WA.js";import"./DlAUqK2U.js";import"./DGUAW_1C.js";import"./DDJ79SjH.js";import"./Ti3HjCpC.js";import"./DegKy-XA.js";import"./B1TeSxwV.js";import"./RmzZBBRE.js";import"./C4jlvBh2.js";import"./C-XPfH0G.js";import"./7d3iyZ8h.js";const K={class:"grid grid-cols-1 gap-4"},P={class:"w-full"},T={class:"text-xs"},E={class:"flex w-full items-center justify-end gap-2"},Vo=D({__name:"apps-decorate",emits:["close"],setup(H,{emit:g}){const c=g,{t:a}=F(),d=I(),t=j({enabled:!1,title:"",link:{name:"",path:"",query:{}},heroImageUrl:""}),b=async()=>{try{const m=await R();G(t,m)}catch(m){console.error("获取装修设置失败:",m)}},{lockFn:k,isLock:u}=q(async()=>{try{await z(t),c("close"),d.success(a("console-common.messages.success"))}catch{d.error(a("console-common.messages.failed"))}});return N(()=>b()),(m,e)=>{const V=y,i=C,U=h,w=$,x=B,_=S,v=A;return M(),L(v,{title:"应用中心",onClose:e[5]||(e[5]=s=>c("close"))},{default:n(()=>[r("div",K,[l(i,{label:o(a)("console-common.enabled"),required:""},{default:n(()=>[l(V,{modelValue:o(t).enabled,"onUpdate:modelValue":e[0]||(e[0]=s=>o(t).enabled=s)},null,8,["modelValue"])]),_:1},8,["label"]),l(i,{label:o(a)("console-common.title")},{default:n(()=>[l(U,{modelValue:o(t).title,"onUpdate:modelValue":e[1]||(e[1]=s=>o(t).title=s),ui:{root:"w-full"},placeholder:o(a)("console-common.placeholder.title")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(i,{label:o(a)("console-common.link")},{default:n(()=>[r("div",P,[l(w,{modelValue:o(t).link,"onUpdate:modelValue":e[2]||(e[2]=s=>o(t).link=s),size:"md",ui:{root:"w-full"}},null,8,["modelValue"])])]),_:1},8,["label"]),l(i,{label:"广告图",required:""},{help:n(()=>[r("span",T,p(o(a)("extensions.develop.form.bannerRecommendation")),1)]),default:n(()=>[l(x,{modelValue:o(t).heroImageUrl,"onUpdate:modelValue":e[3]||(e[3]=s=>o(t).heroImageUrl=s),class:"h-24 w-24",icon:"i-lucide-upload",accept:".jpg,.png,.jpeg,.gif,.webp",maxCount:1,single:!0,multiple:!1},null,8,["modelValue"])]),_:1})]),r("div",E,[l(_,{disabled:o(u),variant:"ghost",onClick:e[4]||(e[4]=s=>c("close"))},{default:n(()=>[f(p(o(a)("console-common.cancel")),1)]),_:1},8,["disabled"]),l(_,{loading:o(u),color:"primary",onClick:o(k)},{default:n(()=>[f(p(o(a)("console-common.save")),1)]),_:1},8,["loading","onClick"])])]),_:1})}}});export{Vo as default};
