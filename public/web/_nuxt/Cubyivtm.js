const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DTWmtxfa.js","./HM4rJu8H.js","./BIwjuh_U.js","./G79xRQNS.js","./p5Feclfs.js","./DdBswP62.js","./Btvd554H.js","./3UOIlTK8.js","./DuSMYVIA.js","./8trvJunN.js","./VGKgjfSv.js","./AwTBxaf_.js","./MDjl6xAp.js","./DlcHufce.js","./BMSQkwth.js","./DaWZu8wl.js","./CkBUkXd4.js","./CaXSqPBL.js","./Dgbe_zC5.js","./BdImEx5p.js","./oFTPHjuc.js","./BcsO9TDZ.js","./BP0i4hNs.js","./BV27uQF0.js","./C8ckrh8-.js","./D_U-ZTzd.js","./uRcAPhod.js","./B7767TeM.js","./u6i9rpSr.js","./XzHi4Tl0.js","./DHFmmngs.js","./kRIii9yh.js","./MN31c9CG.js","./C6Y-ieo6.js","./B2mx0Z2E.js","./B-DdbQ-X.js","./V9POJiZu.js","./CuOaO1Pb.js","./D6yWePie.js","./Dx01Lm3C.js","./Bshy66Rp.js","./DlAUqK2U.js","./D--9TsTA.js","./BoUSUkpo.js","./C1DLXs69.js","./B1XcE43x.js","./ChM0pAjz.js","./BM6CYti3.js","./CkQF9uvh.js","./DkdFtaPD.js","./B5-hAGlX.js","./g_UzmQET.js","./CgMDXot0.js","./CR1AS2Ry.js","./DVnbt8cp.js","./BHhI-3jl.js","./BgHJjJs-.js","./BjbeNdJz.js","./BstbYvQo.js","./Cb04SOqd.js"])))=>i.map(i=>d[i]);
import{d as j,aI as B,b as M,s as _,R as r,e as N,O as q,au as z,aJ as K,w as Q,H,i as J,p as e,a8 as W,c as G,o as v,q as n,v as b,j as k,l,A as p,aq as X,t as Y,k as R,_ as Z,x as ee,U as u,ap as I,ar as te,aK as ae}from"#entry";import{_ as oe}from"./CWOiVw6z.js";import{_ as ne}from"./g_UzmQET.js";import{_ as se}from"./CB78hAg2.js";import{a as le}from"./ChM0pAjz.js";import{u as ie}from"./Dx01Lm3C.js";const re={class:"flex h-full min-h-0 flex-1 flex-col p-4"},ue={class:"flex items-center justify-between"},ce={class:"text-foreground text-lg font-medium"},de={class:"flex h-full min-h-0 flex-1 gap-4 pt-4 pr-4"},me={class:"flex h-full min-h-0 w-1/2 flex-none flex-col"},fe={class:"mb-4 flex"},pe={class:"flex h-full min-h-0 w-1/2 flex-none flex-col"},ge={class:"mb-4 flex items-center justify-end gap-3 p-0.5"},_e={class:"bg-muted border-default flex h-full min-h-0 w-full flex-col rounded-lg border"},ve={class:"flex items-center justify-between p-4"},be={class:"text-foreground text-lg font-medium"},he={class:"flex items-center gap-2"},Ae=j({__name:"index",setup(xe){const A=r(()=>u(()=>import("./DTWmtxfa.js"),__vite__mapDeps([0,1,2]),import.meta.url)),E=r(()=>u(()=>import("./G79xRQNS.js"),__vite__mapDeps([3,1]),import.meta.url)),P=r(()=>u(()=>import("./p5Feclfs.js"),__vite__mapDeps([4,1,5,6,7,8,9,10,11]),import.meta.url)),S=r(()=>u(()=>import("./MDjl6xAp.js"),__vite__mapDeps([12,1,13,14,15,16,17,18,5,6,7,8,9,10,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,11,44,45,46,47]),import.meta.url)),U=r(()=>u(()=>import("./CkQF9uvh.js"),__vite__mapDeps([48,1,49,18,11,50,28,29,30,31,6,32,33,34,35,36,37,38,8,7,40,21,41,45,51,52,53,54,55,56,5,9,10,57,58,59]),import.meta.url)),y=B(),{t:i}=M(),h=_(!1),x=y.params.id,c=W("agents"),d=_("0"),w=[{value:"0",label:i("ai-agent.backend.configuration.func"),component:A},{value:"1",label:i("ai-agent.backend.configuration.user"),component:E},{value:"2",label:i("ai-agent.backend.configuration.billingSetup"),component:P}],C=N("previewChatRef"),m=_(!0),f=q("agent-config-auto-save",{default:()=>!0}),t=z({name:"",description:"",avatar:"",chatAvatar:"",rolePrompt:"",createMode:"direct",showContext:!0,showReference:!0,enableFeedback:!0,enableWebSearch:!1,billingConfig:{price:0},modelConfig:{id:"",options:{}},datasetIds:[],mcpServerIds:[],openingStatement:"你好，我是智能体默认开场白，你可以在界面配置中修改我",openingQuestions:["我打算去北京旅游，有什么推荐的路线吗？","预算大约2万，能帮我规划一下行程吗？","我对历史文化很感兴趣，有合适的目的地推荐吗？"],isPublic:!1,quickCommands:[],autoQuestions:{enabled:!1,customRuleEnabled:!1,customRule:""},formFields:[],formFieldsInputs:{},thirdPartyIntegration:{},tagIds:[]});function D(){if(!t.formFields||t.formFields.length===0){I().error(i("ai-agent.backend.configuration.variableInputDesc"));return}m.value=!m.value}const{lockFn:V,isLock:T}=K(async(o=!0)=>{await le(x,t),o&&(I().success(i("common.message.updateSuccess")),setTimeout(()=>{te().push(ie("ai-agent:list"))},1e3)),ae(`agent-detail-${x}`)}),F=H(()=>V(!1),1e3);return Q(()=>t,()=>{!h.value||!f.value||F()},{deep:!0}),J(()=>{Reflect.ownKeys({...t,tags:[]}).forEach(o=>{e(c)&&Object.prototype.hasOwnProperty.call(e(c),o)&&o!=="tags"&&(t[o]=e(c)?.[o]??t[o]),o==="tags"&&(t.tagIds=e(c)?.tags?.map(a=>a.id)??[])}),setTimeout(()=>{h.value=!0},1500)}),(o,a)=>{const O=oe,$=ne,g=Z,L=se;return v(),G("div",re,[n("div",ue,[n("h1",ce,b(o.$t("ai-agent.backend.menu.arrange")),1)]),n("div",de,[n("div",me,[n("div",fe,[l(O,{modelValue:e(d),"onUpdate:modelValue":a[0]||(a[0]=s=>p(d)?d.value=s:null),items:w,class:"block w-auto"},null,8,["modelValue"])]),(v(),k(X(w[Number(e(d))]?.component),{modelValue:e(t),"onUpdate:modelValue":a[1]||(a[1]=s=>p(t)?t.value=s:null)},null,8,["modelValue"]))]),n("div",pe,[n("div",ge,[l($,{modelValue:e(f),"onUpdate:modelValue":a[2]||(a[2]=s=>p(f)?f.value=s:null),label:e(i)("ai-agent.backend.configuration.enableAutoSave"),class:"flex-none"},null,8,["modelValue","label"]),e(t).createMode==="direct"?(v(),k(e(U),{key:0,modelValue:e(t).modelConfig,"onUpdate:modelValue":a[3]||(a[3]=s=>e(t).modelConfig=s)},null,8,["modelValue"])):Y("",!0),l(L,{codes:["ai-agent:update"]},{default:R(()=>[l(g,{trailingIcon:"i-lucide-arrow-big-up",color:"primary",size:"lg",class:"flex-none gap-1 px-4",disabled:e(T),onClick:e(V)},{default:R(()=>[ee(b(o.$t("ai-agent.backend.configuration.saveConfig")),1)]),_:1},8,["disabled","onClick"])]),_:1})]),n("div",_e,[n("div",ve,[n("h1",be,b(o.$t("ai-agent.backend.configuration.debugPreview")),1),n("div",he,[l(g,{icon:"i-lucide-refresh-cw",color:"primary",variant:"ghost",onClick:a[4]||(a[4]=s=>e(C)?.clearRecord())}),l(g,{icon:"i-lucide-settings-2",color:"primary",variant:e(m)?"soft":"ghost",onClick:D},null,8,["variant"])])]),l(e(S),{agent:e(t),"onUpdate:agent":a[5]||(a[5]=s=>p(t)?t.value=s:null),ref_key:"previewChatRef",ref:C,"show-variable-input":e(m)},null,8,["agent","show-variable-input"])])])])])}}});export{Ae as _};
