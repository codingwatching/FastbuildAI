import{j as D,H as O,B as x,a2 as C,a3 as R,s as W,a4 as k,a5 as A,a6 as F,r as M,a7 as I,W as d,w as T,a8 as g,a9 as L,aa as _}from"#entry";function V(e){return C()?(R(e),!0):!1}const h=new WeakMap,K=(...e)=>{var n;const i=e[0],t=(n=g())==null?void 0:n.proxy;if(t==null&&!L())throw new Error("injectLocal must be called in setup");return t&&h.has(t)&&i in h.get(t)?h.get(t)[i]:_(...e)},E=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Q=e=>typeof e<"u",G=Object.prototype.toString,U=e=>G.call(e)==="[object Object]",f=()=>{};function N(...e){if(e.length!==1)return A(...e);const n=e[0];return typeof n=="function"?F(I(()=>({get:n,set:f}))):M(n)}function y(e,n){function i(...t){return new Promise((a,r)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(a).catch(r)})}return i}const S=e=>e();function B(e,n={}){let i,t,a=f;const r=s=>{clearTimeout(s),a(),a=f};let o;return s=>{const u=d(e),l=d(n.maxWait);return i&&r(i),u<=0||l!==void 0&&l<=0?(t&&(r(t),t=void 0),Promise.resolve(s())):new Promise((m,v)=>{a=n.rejectOnCancel?v:m,o=s,l&&!t&&(t=setTimeout(()=>{i&&r(i),t=void 0,m(o())},l)),i=setTimeout(()=>{t&&r(t),t=void 0,m(s())},u)})}}function H(...e){let n=0,i,t=!0,a=f,r,o,c,s,u;!x(e[0])&&typeof e[0]=="object"?{delay:o,trailing:c=!0,leading:s=!0,rejectOnCancel:u=!1}=e[0]:[o,c=!0,s=!0,u=!1]=e;const l=()=>{i&&(clearTimeout(i),i=void 0,a(),a=f)};return v=>{const p=d(o),b=Date.now()-n,w=()=>r=v();return l(),p<=0?(n=Date.now(),w()):(b>p&&(s||!t)?(n=Date.now(),w()):c&&(r=new Promise((j,P)=>{a=u?P:j,i=setTimeout(()=>{n=Date.now(),t=!0,j(w()),l()},Math.max(0,p-b))})),!s&&!i&&(i=setTimeout(()=>t=!0,p)),t=!1,r)}}function $(e=S,n={}){const{initialState:i="active"}=n,t=N(i==="active");function a(){t.value=!1}function r(){t.value=!0}const o=(...c)=>{t.value&&e(...c)};return{isActive:F(t),pause:a,resume:r,eventFilter:o}}function X(e){let n;function i(){return n||(n=e()),n}return i.reset=async()=>{const t=n;n=void 0,t&&await t},i}function Y(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function Z(e){return Array.isArray(e)?e:[e]}function q(e){return g()}function ee(e,n=200,i={}){return y(B(n,i),e)}function te(e,n=200,i=!1,t=!0,a=!1){return y(H(n,i,t,a),e)}function z(e,n,i={}){const{eventFilter:t=S,...a}=i;return T(e,y(t,n),a)}function ne(e,n,i={}){const{eventFilter:t,initialState:a="active",...r}=i,{eventFilter:o,pause:c,resume:s,isActive:u}=$(t,{initialState:a});return{stop:z(e,n,{...r,eventFilter:o}),pause:c,resume:s,isActive:u}}function ie(e,n=!0,i){q()?D(e,i):n?e():O(e)}function re(e,n,i={}){const{immediate:t=!0,immediateCallback:a=!1}=i,r=W(!1);let o;function c(){o&&(clearTimeout(o),o=void 0)}function s(){r.value=!1,c()}function u(...l){a&&e(),c(),r.value=!0,o=setTimeout(()=>{r.value=!1,o=void 0,e(...l)},d(n))}return t&&(r.value=!0,E&&u()),V(s),{isPending:k(r),start:u,stop:s}}function ae(e,n,i){return T(e,n,{...i,immediate:!0})}export{V as a,N as b,Z as c,Q as d,K as e,ne as f,X as g,U as h,E as i,ee as j,te as k,Y as p,ie as t,re as u,ae as w};
