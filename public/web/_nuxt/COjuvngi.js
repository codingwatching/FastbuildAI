import{d as U,e as S,f as A,r as y,an as d,k as h,o as r,l as f,c,q as e,B as D,$ as j,E as x,t as o,v as b,m as a,D as N,x as l,_ as V,A as q,z as E,y as F,C as L,F as O,b8 as P,b7 as M}from"#entry";import{_ as R}from"./CGkf3lDq.js";import{_ as G}from"./v5c6j4m5.js";import{_ as H}from"./CvZB4bI9.js";import"./DXP7Kkdt.js";import"./BRI4D6WA.js";import"./BvBcSqjy.js";import"./DlAUqK2U.js";import"./KiG0a5S-.js";import"./CXk2IlXx.js";import"./kRIii9yh.js";import"./DBwQYu6J.js";import"./B1TeSxwV.js";import"./C6Y-ieo6.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";import"./cwT2REE1.js";import"./DaC7Nksz.js";import"./DegKy-XA.js";import"./DnFVE45b.js";const J={class:"flex flex-1 items-center justify-center gap-2"},K={key:0,class:"flex w-[100px] flex-col"},Q={class:"truncate text-sm font-medium"},W={class:"text-secondary-foreground truncate text-xs"},X={key:0},Y={class:"flex flex-col"},Z={class:"max-w-32 truncate text-sm"},ee={class:"text-foreground/60 max-w-32 truncate text-xs"},te={class:"bg-primary/10 mt-4 flex items-center justify-between rounded-xl p-3"},oe={class:"flex items-center gap-2 text-sm"},se={class:"font-medium"},ne={class:"text-primary"},ie={class:"mt-4 grid w-72 grid-cols-4 gap-6"},re=["onClick"],ae={class:"bg-foreground/5 hover:bg-foreground/10 active:bg-foreground/15 flex h-8 w-8 items-center justify-center rounded-full"},le={class:"max-w-full truncate text-center text-xs"},ce={class:"flex justify-between"},de={class:"select-none"},De=U({__name:"user-profile",props:{size:{default:"md"},collapsed:{type:Boolean,default:!1},content:{}},setup(I){const u=I,{t:m}=S(),t=A(),p=y(!1),$=y([{id:1,icon:"i-lucide-settings",title:"layouts.menu.system",click:()=>d(`/profile/${t.userInfo?.id}/general-settings`)},{id:2,title:"layouts.powerDetail",icon:"i-lucide-database-zap",click:()=>d(`/profile/${t.userInfo?.id}/power-detail`)},{id:3,title:"layouts.userAgreement",icon:"i-lucide-file-text",target:"_blank",path:"/agreement?type=agreement&item=service"},{id:4,title:"layouts.privacyPolicy",icon:"i-lucide-shield-check",target:"_blank",path:"/agreement?type=agreement&item=privacy"}]),w=s=>{s.click?s.click():s.path&&(s.target==="_blank"?d(s.path,{external:!0}):d(s.path)),p.value=!1};return(s,n)=>{const _=N,k=V,g=E,z=R,C=G,T=H,B=P,v=M("ripple");return r(),h(B,null,{default:f(()=>[e(t).isLogin?(r(),h(T,{key:0,open:e(p),"onUpdate:open":n[4]||(n[4]=i=>D(p)?p.value=i:null),class:"flex",mode:"click",ui:{content:"rounded-2xl"},content:u.content,"close-delay":300},{content:f(()=>[o("div",{class:"p-3",onClick:n[3]||(n[3]=i=>p.value=!1)},[o("div",{class:"hover:bg-muted flex cursor-pointer items-center gap-4 rounded-lg p-3",onClick:n[0]||(n[0]=i=>("navigateTo"in s?s.navigateTo:e(d))(`/profile/${e(t).userInfo?.id}`))},[a(_,{src:e(t).userInfo?.avatar,alt:"Avatar",size:"md","img-class":"bg-foreground/30"},null,8,["src"]),o("div",Y,[o("span",Z,l(e(t).userInfo?.nickname),1),o("span",ee,l(e(t).userInfo?.username),1)]),a(g,{name:"i-lucide-chevron-right",class:"text-foreground/60 ml-auto",size:"20"})]),o("div",te,[o("div",oe,[o("span",se,l(e(m)("layouts.power"))+":",1),o("span",ne,l(e(t).userInfo?.power),1)]),a(k,{size:"xs",onClick:n[1]||(n[1]=i=>("navigateTo"in s?s.navigateTo:e(d))(`/profile/${e(t).userInfo?.id}/personal-rights/member-center`))},{default:f(()=>[F(l(e(m)("layouts.memberSubscription")),1)]),_:1})]),o("div",ie,[(r(!0),c(O,null,L(e($),i=>(r(),c("div",{key:i.id,class:"group flex w-full flex-1 cursor-pointer flex-col items-center gap-2",onClick:ue=>w(i)},[x((r(),c("div",ae,[a(g,{name:i.icon},null,8,["name"])])),[[v]]),o("p",le,l(e(m)(i.title)),1)],8,re))),128))]),a(z,{class:"py-4"}),o("div",ce,[x((r(),c("div",{class:"flex cursor-pointer items-center gap-1 rounded-md px-2 text-sm text-red-500 transition-colors hover:bg-red-50 dark:hover:bg-red-500/10",onClick:n[2]||(n[2]=i=>e(t).logout())},[a(g,{name:"i-lucide-log-out",size:"18"}),o("p",de,l(e(m)("layouts.logout")),1)])),[[v]]),a(C)])])]),default:f(()=>[j(s.$slots,"default",{},()=>[x((r(),c("div",{class:q(["hover:bg-muted flex items-center gap-1 rounded-lg p-1.5",{"p-3":!u.collapsed}])},[o("div",J,[a(_,{src:e(t).userInfo?.avatar,alt:e(t).userInfo?.nickname,icon:e(t).userInfo?.nickname?"tabler:user":void 0,size:u.size,ui:{root:"rounded-lg"}},null,8,["src","alt","icon","size"]),u.collapsed?b("",!0):(r(),c("div",K,[o("span",Q,l(e(t).userInfo?.nickname),1),o("span",W,l(e(t).userInfo?.email||e(t).userInfo?.phone),1)]))]),u.collapsed?b("",!0):(r(),c("div",X,[a(k,{icon:"i-lucide-chevrons-up-down",color:"neutral",variant:"link",ui:{leadingIcon:"size-4"}})]))],2)),[[v]])])]),_:3},8,["open","content"])):(r(),c("div",{key:1,class:"flex items-center gap-1 rounded-lg",onClick:n[5]||(n[5]=i=>("navigateTo"in s?s.navigateTo:e(d))("/login"))},[a(_,{icon:"i-lucide-user",alt:"未登录",size:u.size,ui:{root:"rounded-lg"}},null,8,["size"])]))]),_:3})}}});export{De as default};
