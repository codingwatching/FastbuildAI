import{ar as z,ao as W,an as T,d as Y,r as V,b4 as X,e as j,f as K,O as I,s as q,i as $,b5 as G,ch as F,S as P,c as g,o as i,v as x,t as u,q as o,m as L,bI as H,x as k,l as M,k as U,A as D,D as J,z as Q,y as Z,Y as ee,B as te}from"#entry";import{_ as oe}from"./6WwfWHXT.js";import{a as ne,b as se,c as le,n as ae}from"./DP4OtQ_W.js";import{a as ie,c as ce}from"./DXP7Kkdt.js";import{u as re}from"./t1d_OU1Q.js";import{d as ue}from"./C-XPfH0G.js";import"./KiG0a5S-.js";import"./CXk2IlXx.js";import"./kRIii9yh.js";import"./DBwQYu6J.js";import"./B1TeSxwV.js";import"./C6Y-ieo6.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";import"./cwT2REE1.js";import"./DaC7Nksz.js";import"./DegKy-XA.js";import"./DnFVE45b.js";import"./DSCppvl0.js";import"./7d3iyZ8h.js";import"./BRI4D6WA.js";function B(s){return s.startsWith("/extensions")}function C(s,S,c=!1){return S||c||B(s)}function de(){const s=W(),S=z(),c=s.public.isPlugin,v=s.public.appBaseURL||"/",y=e=>typeof e=="string"?e:S.resolve(e).href,d=e=>e.startsWith(v)?e:e.replace(new RegExp(`^${v}`),"");return{smartNavigate:(e,r)=>{const{newTab:_=!1,forceLocation:n=!1}=r||{},a=y(e);if(a.startsWith("http://")||a.startsWith("https://")){_?window.open(a,"_blank","noopener,noreferrer"):window.location.href=a;return}if(_){const h=C(a,c,n)?a:c?`${v}${a}`.replace(/\/+/g,"/"):a;window.open(h,"_blank","noopener,noreferrer");return}C(a,c,n)?window.location.href=d(a):T(e)},smartReplace:e=>{const r=y(e);C(r,c)?window.location.replace(r):T(e,{replace:!0})},toAbsolutePath:e=>{if(e.startsWith("http://")||e.startsWith("https://"))return e;if(C(e,c)){const r=d(e),_=r.startsWith("/")?r:`/${r}`;return`${window.location.origin}${_}`}return e},isPlugin:c,baseURL:v,isExtensionPath:B}}const me={key:0,class:"hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg select-none"},pe={class:"flex h-10 items-center justify-between px-3 py-2 text-sm font-medium"},fe={class:"flex items-center gap-1.5",href:"https://www.buildingai.cc",target:"_blank"},he={key:0,class:"truncate"},ge={class:"ml-2 flex flex-col text-left"},xe={class:"block w-35 truncate text-sm font-medium"},be={class:"text-muted-foreground text-xs"},ke={key:1,class:"text-foreground flex h-full w-full cursor-pointer items-center gap-2 px-1 py-1"},ve={class:"text-sm"},ye={class:"flex flex-1 items-center gap-2"},_e={key:0,class:"flex w-[100px] flex-col"},we={class:"truncate text-sm font-medium"},Ie={class:"text-secondary-foreground truncate text-xs"},Le={key:0,class:"flex items-center"},Fe=Y({__name:"user-menu",props:{mode:{},collapsed:{type:Boolean},mobileMenu:{type:Boolean}},emits:["update:collapsed"],setup(s,{emit:S}){const c=s,v=S,y=c.mode==="sidebar"?ie(c,"collapsed",v):V(!1),d=re(),{store:f}=ce(),m=X(),{locale:A,t:e,setLocale:r}=j(),{smartNavigate:_}=de(),n=K(),a=I("nuxt-ui-language"),h=q(!1),N=$(()=>f.value==="auto"?{label:e("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid"}:f.value==="light"?{label:e("layouts.theme.light"),icon:"i-lucide-sun"}:{label:e("layouts.theme.dark"),icon:"i-lucide-moon"}),O=$(()=>[[{label:"profile"}],[{label:d.consoleLayoutMode==="side"?e("layouts.sidebar"):e("layouts.mixture"),icon:d.consoleLayoutMode==="side"?"i-lucide-panel-left":"i-lucide-panels-top-left",children:[{label:e("layouts.sidebar"),icon:"i-lucide-panel-left",type:"checkbox",checked:d.consoleLayoutMode==="side",onSelect(t){t.preventDefault(),d.consoleLayoutMode="side",I(P.LAYOUT_MODE).value="side"}},{label:e("layouts.mixture"),icon:"i-lucide-panels-top-left",type:"checkbox",checked:d.consoleLayoutMode==="mixture",onUpdateChecked(t){t&&(d.consoleLayoutMode="mixture",I(P.LAYOUT_MODE).value="mixture")},onSelect(t){t.preventDefault()}}]},{label:e("layouts.theme.theme"),icon:"i-lucide-palette",children:[{label:e("layouts.theme.color"),slot:"chip",chip:m.ui.colors.primary,content:{align:"center",collisionPadding:16},children:ne.map(t=>({label:e(le[t]),chip:t,slot:"chip",checked:m.ui.colors.primary===t,type:"checkbox",onSelect:p=>{p.preventDefault();const b=I(P.NUXT_UI_BLACK_AS_PRIMARY),w=I(P.NUXT_UI_PRIMARY);if(w.value=t,m.ui.colors.primary=t,t==="black"){m.theme.blackAsPrimary=!0,b.value=!0,m.ui.colors.primary=t;return}m.theme.blackAsPrimary=!1,b.value=!1}}))},{label:e("layouts.theme.neutralLabel"),slot:"chip",chip:m.ui.colors.neutral,content:{align:"end",collisionPadding:16},children:se.map(t=>({label:e(ae[t]),chip:t,slot:"chip",type:"checkbox",checked:m.ui.colors.neutral===t,onSelect:p=>{p.preventDefault();const b=I(P.NUXT_UI_NEUTRAL);b.value=t,m.ui.colors.neutral=t}}))}]},{label:N.value.label,icon:N.value.icon,children:[{label:e("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid",type:"checkbox",checked:f.value==="auto",onSelect(t){t.preventDefault(),f.value="auto"}},{label:e("layouts.theme.light"),icon:"i-lucide-sun",type:"checkbox",checked:f.value==="light",onSelect(t){t.preventDefault(),f.value="light"}},{label:e("layouts.theme.dark"),icon:"i-lucide-moon",type:"checkbox",checked:f.value==="dark",onUpdateChecked(t){t&&(f.value="dark")},onSelect(t){t.preventDefault()}}]},{label:F(A.value),icon:"i-lucide-languages",content:{align:"end",collisionPadding:16},children:G.map(t=>({label:`${t.name}`,type:"checkbox",slot:"lang",checked:A.value===t.code,onSelect(p){p.preventDefault(),r(t.code),a.value=t.code}}))}],[{label:e("layouts.officeLink"),icon:"i-lucide-external-link",onSelect(){window.open("https://www.buildingai.cc","_blank")}}],[{label:e("layouts.logout"),icon:"i-lucide-log-out",onSelect(t){t.preventDefault(),n.logout()}}]]);return ue({o:()=>h.value=!h.value}),(t,p)=>{const b=H,w=Q,R=J,E=oe;return i(),g("div",{class:D(["flex flex-col gap-1",s.collapsed?"px-1":"px-1.5"])},[o(d).consoleLayoutMode==="side"?(i(),g("div",me,[u("div",pe,[u("a",fe,[L(b,{name:"i-lucide-external-link"}),s.collapsed?x("",!0):(i(),g("span",he,k(o(e)("layouts.officeLink")),1))])])])):x("",!0),u("div",{class:D(["hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg px-3 py-2 select-none",{"bg-secondary dark:bg-surface-800":o(h)}])},[L(E,{open:o(h),"onUpdate:open":p[1]||(p[1]=l=>te(h)?h.value=l:null),items:o(O),content:s.mode==="mixture"?{sideOffset:4,collisionPadding:14}:{align:"start",side:s.mobileMenu?"top":"right",sideOffset:10,collisionPadding:10},ui:{content:s.collapsed||s.mode==="mixture"?"w-54":"w-(--reka-dropdown-menu-trigger-width)"}},{"chip-leading":M(({item:l})=>[u("span",{style:ee({backgroundColor:l.chip}),class:"ms-0.5 size-2 rounded-full"},null,4)]),"chip-trailing":M(({item:l})=>[l.children?(i(),U(w,{key:0,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):x("",!0)]),"lang-leading":M(({item:l})=>[Z(k(l.icon),1)]),item:M(({item:l})=>[l?.label==="profile"?(i(),g("div",{key:0,class:"flex px-1 pt-1.5",onClick:p[0]||(p[0]=Se=>o(_)(`/profile/${o(n).userInfo?.id}`))},[L(R,{src:o(n).userInfo?.avatar,alt:o(n).userInfo?.nickname,icon:o(n).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),u("div",ge,[u("span",xe,k(o(n).userInfo?.nickname),1),u("span",be,k(o(n).userInfo?.username),1)])])):(i(),g("div",ke,[L(w,{name:l.icon,class:"text-muted-foreground text-lg"},null,8,["name"]),u("span",ve,k(l.label),1)])),l.children?(i(),U(w,{key:2,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):x("",!0),l.checked?(i(),U(w,{key:3,name:"i-lucide-check",class:"text-muted-foreground text-lg"})):x("",!0)]),default:M(()=>[s.mode==="sidebar"?(i(),g("div",{key:0,class:D(["flex flex-1 items-center justify-center gap-2 select-none",{"flex-col":o(y)}])},[u("div",ye,[L(R,{src:o(n).userInfo?.avatar,alt:o(n).userInfo?.nickname,icon:o(n).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),o(y)?x("",!0):(i(),g("div",_e,[u("span",we,k(o(n).userInfo?.nickname),1),u("span",Ie,k(o(n).userInfo?.username),1)]))]),o(y)?x("",!0):(i(),g("div",Le,[L(b,{name:"i-lucide-chevrons-up-down",class:"text-muted"})]))],2)):s.mode==="mixture"?(i(),U(R,{key:1,src:o(n).userInfo?.avatar,alt:o(n).userInfo?.nickname,icon:o(n).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])):x("",!0)]),_:1},8,["open","items","content","ui"])],2)],2)}}});export{Fe as default};
