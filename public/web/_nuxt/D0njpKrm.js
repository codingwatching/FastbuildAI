import{_ as z}from"./DNb4RPhn.js";import{d as R,at as F,s as _,i as N,aN as L,f as v,o as g,w as m,t as i,x as s,g as n,D as b,y as k,B as j,z as u,_ as A,A as $}from"#entry";import{_ as D}from"./DUJH4dqr.js";import T from"./cd55qm53.js";import{_ as q}from"./D_3bTjYR.js";import{_ as M}from"./D19QCKnC.js";import{k as P}from"./meHCBXcx.js";import{u as S}from"./BEK00iAE.js";import"./CtosDvS0.js";import"./CuVAPZQ8.js";import"./BCcN9pii.js";import"./CMKSl-Ng.js";import"./DBEJUH-Z.js";import"./o4ws_w_T.js";import"./DWy_CFG9.js";import"./td2xDKru.js";import"./RPflLnqr.js";import"./TrJvDfxI.js";import"./jsPNKUA0.js";import"./Bzv9SrOl.js";import"./D9sX2Qi6.js";import"./LSmoYDCw.js";import"./B3XNqw4u.js";import"./zlMhJk0P.js";import"./BhB8DUPm.js";import"./BVraOlsu.js";import"./BxwUS5gW.js";import"./MCK2d4XT.js";import"./EK7Wbu3-.js";const E={class:"py-10"},G={class:"hover:bg-accent border-muted group flex h-full w-full items-center gap-2 rounded-md border"},H={class:"ml-4 flex size-8 flex-none items-center justify-center gap-2"},J={class:"flex w-full flex-col justify-center truncate pr-4"},K={class:"truncate text-sm font-medium"},O={class:"text-muted-foreground text-xs"},Q={class:"absolute right-4 hidden group-hover:block"},W={class:"flex justify-end gap-2"},Ue=R({__name:"agent-dsl-import",emits:["close"],setup(X,{emit:w}){const d=w,c=F(),l=_("file"),r=_(""),a=_(""),{t:p}=N(),{lockFn:x,isLock:y}=L(async()=>{if(l.value==="file"&&!r.value){c.error(p("ai-agent.backend.dslImport.errors.fileRequired"));return}if(l.value==="url"&&!a.value){c.error(p("ai-agent.backend.dslImport.errors.urlRequired"));return}else if(l.value==="url"&&a.value){const o=await S({url:a.value,description:`Remote file: ${a.value}`});a.value=o.url}await P({content:l.value==="file"?r.value:a.value,format:"yaml"}),c.success(p("ai-agent.backend.dslImport.success")),d("close",!0)});return(o,e)=>{const I=z,V=j,f=A,h=D,C=T,U=q,B=M;return g(),v(B,{title:o.$t("ai-agent.backend.dslImport.title"),description:o.$t("ai-agent.backend.dslImport.description"),ui:{content:"max-w-lg"},onClose:e[5]||(e[5]=t=>d("close",!1))},{default:m(()=>[i(I,{modelValue:n(l),"onUpdate:modelValue":e[0]||(e[0]=t=>b(l)?l.value=t:null),size:"md",variant:"link",content:!1,items:[{label:o.$t("ai-agent.backend.dslImport.tabs.file"),value:"file"},{label:o.$t("ai-agent.backend.dslImport.tabs.url"),value:"url"}],ui:{trigger:"px-0! mr-5!"},class:"w-auto"},null,8,["modelValue","items"]),s("div",E,[n(l)==="file"?(g(),v(h,{key:0,modelValue:n(r),"onUpdate:modelValue":e[2]||(e[2]=t=>b(r)?r.value=t:null),accept:".yaml,.yml",multiple:!1,maxCount:1,single:!0,icon:"i-lucide-cloud-upload",showPreviewButton:!1,addButtonClassName:"flex-row",class:"bg-muted h-14 w-full border-none! shadow-none! ring-0!"},{"file-item":m(({item:t})=>[s("div",G,[s("div",H,[i(V,{name:"bd:yml",class:"text-muted-foreground size-6 flex-none"})]),s("div",J,[s("p",K,u(t.name),1),s("p",O,u(t.extension?.toUpperCase()),1)]),s("div",Q,[i(f,{color:"error",variant:"soft",size:"sm",icon:"i-lucide-trash",onClick:e[1]||(e[1]=Y=>r.value="")})])])]),_:1},8,["modelValue"])):k("",!0),n(l)==="url"?(g(),v(U,{key:1,label:o.$t("ai-agent.backend.dslImport.form.urlLabel"),name:"url"},{default:m(()=>[i(C,{modelValue:n(a),"onUpdate:modelValue":e[3]||(e[3]=t=>b(a)?a.value=t:null),ui:{root:"w-full"},variant:"soft",size:"lg",placeholder:o.$t("ai-agent.backend.dslImport.form.urlPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0)]),s("div",W,[i(f,{color:"neutral",variant:"soft",size:"lg",onClick:e[4]||(e[4]=t=>d("close",!1))},{default:m(()=>[$(u(o.$t("console-common.cancel")),1)]),_:1}),i(f,{color:"primary",size:"lg",loading:n(y),onClick:n(x)},{default:m(()=>[$(u(o.$t("console-common.create")),1)]),_:1},8,["loading","onClick"])])]),_:1},8,["title","description"])}}});export{Ue as default};
