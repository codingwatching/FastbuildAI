import{d as j,e as D,i as _,r as E,ai as F,k as h,o as u,l as r,t as l,m as n,y as g,x as d,q as p,z as L,p as M,B as P,c as x,v as q,C as R,F as G,D as H,A as J,aV as K}from"#entry";import{_ as O}from"./CsY35JUW.js";import{_ as Q}from"./B-p4_8pw.js";import{_ as W}from"./DyTskiS5.js";import{_ as X}from"./Bjbrn0__.js";import{_ as Y}from"./DNJQj0yQ.js";import{u as Z}from"./zDgZcZqa.js";import"./DBwQYu6J.js";import"./DnFVE45b.js";import"./DegKy-XA.js";import"./DSCppvl0.js";import"./7d3iyZ8h.js";import"./DoL5-2Ox.js";import"./DVSiT9pd.js";import"./D_1uxSdv.js";import"./6WwfWHXT.js";import"./KiG0a5S-.js";import"./CXk2IlXx.js";import"./kRIii9yh.js";import"./B1TeSxwV.js";import"./C6Y-ieo6.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";import"./cwT2REE1.js";import"./DaC7Nksz.js";import"./DJ9SNVgt.js";import"./CgMDXot0.js";import"./CZsOHrUj.js";const ee={class:"flex items-center justify-between"},oe={class:"text-secondary-foreground flex items-center text-base font-semibold"},te={class:"line-clamp-1 shrink-0"},ie={class:"text-muted-foreground mr-2 ml-1 line-clamp-1 shrink-0 text-sm"},re={key:0,class:"text-muted-foreground line-clamp-2 text-xs"},se={class:"flex flex-row flex-wrap gap-1"},ne={class:"flex items-center justify-between gap-2"},De=j({__name:"provider-card",props:{provider:{},selected:{type:Boolean,default:!1}},emits:["select","delete","edit","view-models","toggle-active"],setup(o,{emit:b}){const t=o,m=b,{t:c}=D(),{hasAccessByCodes:f}=Z();function k(e){return e?{label:c("console-common.enabled"),color:"success",icon:"i-lucide-check-circle"}:{label:c("console-common.disabled"),color:"error",icon:"i-lucide-x-circle"}}const y=_(()=>{const e=[];return f(["ai-provider.backends:update"])&&e.push({label:c("console-common.edit"),icon:"i-lucide-edit",onSelect:()=>m("edit",t.provider)}),f(["ai-provider.backends:delete"])&&!t.provider.isBuiltIn&&(e.length>0&&e.push({type:"separator",label:"",onSelect:()=>{}}),e.push({label:c("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>m("delete",t.provider)})),e}),C=_(()=>k(t.provider.isActive));function w(){m("view-models",t.provider.id)}function A(e){typeof e=="boolean"&&m("select",t.provider,e)}const i=E(t.provider.isActive);F(()=>{i.value=t.provider.isActive});const B=async()=>{const e=!i.value;try{m("toggle-active",t.provider.id,i.value),await new Promise(s=>setTimeout(s,200)),t.provider.isActive!==i.value&&(i.value=e)}catch(s){i.value=e,console.error("Toggle provider active failed:",s)}};return(e,s)=>{const U=H,$=K,S=O,v=Q,V=L,I=W,T=X,z=Y;return u(),h(z,{selectable:"",clickable:"","show-actions":"",variant:"outlined",class:"cursor-pointer",selected:o.selected,actions:p(y),onSelect:A,onClick:w},{icon:r(({groupHoverClass:a,selectedClass:N})=>[n($,{position:o.provider.isActive?"top-right":void 0,color:p(C).color},{default:r(()=>[n(U,{src:o.provider.iconUrl,alt:o.provider.name,size:"3xl",ui:{root:"rounded-lg",fallback:"text-inverted"},class:J([a,N,o.provider.iconUrl?"":"bg-primary"])},null,8,["src","alt","class"])]),_:2},1032,["position","color"])]),title:r(()=>[l("div",ee,[l("h3",oe,[n(S,{text:o.provider.name,delay:0},{default:r(()=>[l("span",te,d(o.provider.name),1)]),_:1},8,["text"]),l("span",ie," ("+d(o.provider.provider)+") ",1)])])]),description:r(()=>[o.provider.description?(u(),x("p",re,d(o.provider.description),1)):q("",!0),l("div",se,[(u(!0),x(G,null,R(o.provider.supportedModelTypes,a=>(u(),h(v,{key:a,variant:"soft",color:"neutral",size:"sm",class:"h-fit"},{default:r(()=>[g(d(a.toLocaleUpperCase().replaceAll("-"," ")),1)]),_:2},1024))),128))])]),footer:r(()=>[l("div",ne,[n(v,{variant:"outline",color:"neutral",size:"sm",class:"shrink-0 gap-0 rounded-full"},{default:r(()=>[g(d(o.provider.models.length)+" "+d(`${p(c)("common.unit.general.item")}${p(c)("common.ai.model")}`)+" ",1),n(V,{name:"i-lucide-chevron-right"})]),_:1}),n(T,{codes:["ai-provider.backends:update"]},{default:r(()=>[n(I,{modelValue:p(i),"onUpdate:modelValue":[s[0]||(s[0]=a=>P(i)?i.value=a:null),B],onClick:s[1]||(s[1]=M(()=>{},["stop"]))},null,8,["modelValue"])]),_:1})])]),_:1},8,["selected","actions"])}}});export{De as default};
