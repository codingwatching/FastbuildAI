const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CLM80TkO.js","./Dgvg0_To.js","./BcLlu2tf.js","./B4izWO6C.js","./12pJH7Js.js","./CXk2IlXx.js","./DVSiT9pd.js","./DBwQYu6J.js","./Ti3HjCpC.js","./CyS2mNdj.js","./BaKvIqXP.js","./B1TeSxwV.js","./BstbYvQo.js","./DegKy-XA.js","./B-p4_8pw.js","./DwzRPK54.js","./CR9qioUt.js","./BRI4D6WA.js","./DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{d as b,au as A,aK as B,c as E,o as $,t as o,m as n,l as u,x as d,q as t,R as p,B as C,aT as x,A as w,_ as P,y as h,U as g}from"#entry";import{_ as F}from"./CR9qioUt.js";import{u as L}from"./DRV5AIQP.js";import"./BRI4D6WA.js";import"./DlAUqK2U.js";const D={class:"segmentation-configurator mx-auto h-full max-w-7xl"},I={class:"grid h-full grid-cols-1 gap-8 lg:grid-cols-2"},M={class:"space-y-2"},U={class:"text-foreground text-sm font-medium"},z={class:"text-foreground text-sm font-medium"},N={class:"flex justify-end gap-4 py-4"},H=b({__name:"index",props:{indexingConfig:{},retrievalConfig:{},disabled:{type:Boolean}},emits:["update:retrievalConfig","onStepChange","onCreate","update:indexingConfig"],setup(m,{emit:V}){const k=p(()=>g(()=>import("./CLM80TkO.js"),__vite__mapDeps([0,1]),import.meta.url)),y=p(()=>g(()=>import("./BcLlu2tf.js"),__vite__mapDeps([2,1]),import.meta.url)),S=p(()=>g(()=>import("./B4izWO6C.js"),__vite__mapDeps([3,4,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url)),f=m,l=V,r=x(f,"indexingConfig",l),c=x(f,"retrievalConfig",l),a=A({totalSegments:0,fileResults:[],processingTime:0,processedFiles:0}),{lockFn:R,isLock:_}=B(async()=>{try{const e=await L(r.value);a.totalSegments=e.totalSegments,a.fileResults=e.fileResults,a.processingTime=e.processingTime,a.processedFiles=e.processedFiles}catch(e){console.error("预览失败:",e)}});return(e,s)=>{const v=P,T=F;return $(),E("div",D,[o("div",I,[n(T,{class:"table h-full pr-2",shadow:!1},{default:u(()=>[o("section",M,[o("h5",U,d(e.$t("ai-datasets.backend.create.stepTwo.segmentation")),1),n(t(y),{modelValue:t(r),"onUpdate:modelValue":s[0]||(s[0]=i=>C(r)?r.value=i:null),"is-previewing":t(_),"on-preview-segments":t(R)},null,8,["modelValue","is-previewing","on-preview-segments"])]),o("section",{class:w(["mt-4 space-y-4",{"cursor-not-allowed":m.disabled}])},[o("h5",z,d(e.$t("ai-datasets.backend.settings.retrievalMethod")),1),n(t(k),{modelValue:t(c),"onUpdate:modelValue":s[1]||(s[1]=i=>C(c)?c.value=i:null),class:w({"pointer-events-none opacity-70":m.disabled})},null,8,["modelValue","class"])],2),o("section",N,[n(v,{size:"lg",variant:"outline",onClick:s[2]||(s[2]=i=>l("onStepChange",-1))},{default:u(()=>[h(d(e.$t("ai-datasets.backend.create.previousStep")),1)]),_:1}),n(v,{size:"lg",onClick:s[3]||(s[3]=i=>l("onCreate"))},{default:u(()=>[h(d(e.$t("ai-datasets.backend.create.saveAndCreate")),1)]),_:1})])]),_:1}),n(t(S),{"is-previewing":t(_),results:t(a)},null,8,["is-previewing","results"])])])}}});export{H as default};
