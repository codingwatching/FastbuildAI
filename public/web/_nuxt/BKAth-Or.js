import{d as x,e as U,ar as z,aX as C,s as L,aK as S,ap as j,j as V,aS as D,c as F,o as l,t as e,m as n,_ as I,k as u,q as o,aW as P,z as M,x as _,l as i,B as T,y as E,aH as R}from"#entry";import q from"./CDSfhndf.js";import{_ as A}from"./Brlt-NDg.js";import{_ as H}from"./BYm23QKU.js";import{u as K}from"./_A-AeXPB.js";import{u as O}from"./DcxZIiHI.js";import"./DoL5-2Ox.js";import"./DGUAW_1C.js";import"./DDJ79SjH.js";import"./Ti3HjCpC.js";import"./DegKy-XA.js";import"./B1TeSxwV.js";import"./RmzZBBRE.js";import"./C4jlvBh2.js";import"./C-XPfH0G.js";import"./7d3iyZ8h.js";import"./DkAujwQK.js";const W={class:"design-layout dark:bg-muted flex h-screen w-full flex-col bg-[#f7f7fc] pb-2"},X={class:"relative flex h-14 items-center px-5"},G={class:"flex items-center gap-x-2"},J={class:"flex items-center gap-x-2 leading-[30px]"},Q={class:"flex size-8 items-center justify-center rounded-lg"},Y={class:"text-base"},Z={class:"hover:text-primary hover:bg-primary-light-9 flex cursor-pointer items-center rounded-lg p-2"},ee={class:"space-y-4 pb-8"},oe={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},se={class:"dark:bg-accent rounded-lg bg-[#ebecf5] px-1.5 py-1"},te={class:"bg-background flex items-center rounded-lg px-2 py-1"},ne={class:"mx-2 text-sm leading-5 font-medium"},ae={class:"ml-auto flex items-center gap-2"},ce={class:"relative flex h-full w-full gap-3 px-2"},ie=x({__name:"design",setup(h){const{t:s}=U(),r=z(),a=K(),f=C(),m=L(!1),{lockFn:v,isLock:b}=S(async()=>{await a.savePages(),j().success(s("console-widgets.designer.saveSuccess")),setTimeout(()=>r.back(),1e3)});function k(){const t=()=>{a.resetState(),r.back()};if(!a.isDirty){t();return}O({title:s("console-common.tips"),description:s("console-common.messages.confirmLeave"),confirmText:s("console-common.confirm"),cancelText:s("console-common.cancel")}).then(t)}return V(()=>{const t=c=>{if(a.isDirty)return c.preventDefault(),s("console-common.messages.confirmLeave")};window.addEventListener("beforeunload",t),D(()=>{window.removeEventListener("beforeunload",t)})}),(t,c)=>{const g=I,w=P,d=M,y=q,N=A,B=H,$=R;return l(),F("div",W,[e("div",X,[e("div",G,[n(g,{color:"neutral",icon:"i-lucide-chevron-left",variant:"ghost",class:"hover:bg-[#ebecf5]",onClick:k}),e("div",J,[e("h1",Q,[o(f).siteConfig?.webinfo.logo?(l(),u(w,{key:0,src:o(f).siteConfig?.webinfo.logo,alt:"Logo",class:"size-8"},null,8,["src"])):(l(),u(d,{key:1,name:"system-logo",class:"text-background size-8"}))]),e("div",Y,_(o(a).projectName),1),n(B,{open:o(m),"onUpdate:open":c[1]||(c[1]=p=>T(m)?m.value=p:null),title:o(s)("console-widgets.designer.editProjectName"),ui:{content:"max-w-md"},showFooter:!0},{trigger:i(()=>[e("div",Z,[n(d,{name:"i-lucide-edit",class:"size-4"})])]),default:i(()=>[e("div",ee,[n(N,{label:o(s)("console-widgets.designer.pageName"),name:"name",required:""},{default:i(()=>[n(y,{modelValue:o(a).projectName,"onUpdate:modelValue":c[0]||(c[0]=p=>o(a).projectName=p),placeholder:o(s)("console-widgets.designer.enterPageName"),maxlength:"32","show-count":"",size:"lg",ui:{root:"w-full"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["open","title"])])]),e("div",oe,[e("div",se,[e("div",te,[n(d,{name:"i-lucide-palette",class:"size-4"}),e("span",ne,_(t.$t("console-common.userInterface")),1)])])]),e("div",ae,[n(g,{color:"primary",loading:o(b),onClick:o(v)},{default:i(()=>[E(_(t.$t("console-common.save")),1)]),_:1},8,["loading","onClick"])])]),e("main",ce,[n($)])])}}}),Be=x({__name:"design",setup(h){return(s,r)=>(l(),u(ie))}});export{Be as default};
