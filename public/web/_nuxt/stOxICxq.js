import{_ as z}from"./DNVymXxO.js";import{d as R,ap as F,s as _,e as N,aK as L,k as v,o as g,l as m,m as i,t as a,q as n,B as b,v as k,z as j,x as u,_ as q,y as $,bs as T}from"#entry";import{_ as D}from"./ilPiIi3f.js";import M from"./CDSfhndf.js";import{_ as P}from"./Brlt-NDg.js";import{_ as A}from"./BYm23QKU.js";import{k as K}from"./ChM0pAjz.js";import"./CXk2IlXx.js";import"./DegKy-XA.js";import"./cwT2REE1.js";import"./DaC7Nksz.js";import"./CZsOHrUj.js";import"./B-p4_8pw.js";import"./CjOovgR0.js";import"./DXP7Kkdt.js";import"./BRI4D6WA.js";import"./DlAUqK2U.js";import"./DoL5-2Ox.js";import"./DGUAW_1C.js";import"./DDJ79SjH.js";import"./Ti3HjCpC.js";import"./B1TeSxwV.js";import"./RmzZBBRE.js";import"./C4jlvBh2.js";import"./C-XPfH0G.js";import"./7d3iyZ8h.js";const S={class:"py-10"},E={class:"hover:bg-accent border-muted group flex h-full w-full items-center gap-2 rounded-md border"},G={class:"ml-4 flex size-8 flex-none items-center justify-center gap-2"},H={class:"flex w-full flex-col justify-center truncate pr-4"},J={class:"truncate text-sm font-medium"},O={class:"text-muted-foreground text-xs"},Q={class:"absolute right-4 hidden group-hover:block"},W={class:"flex justify-end gap-2"},Ve=R({__name:"agent-dsl-import",emits:["close"],setup(X,{emit:x}){const d=x,c=F(),l=_("file"),r=_(""),s=_(""),{t:p}=N(),{lockFn:w,isLock:y}=L(async()=>{if(l.value==="file"&&!r.value){c.error(p("ai-agent.backend.dslImport.errors.fileRequired"));return}if(l.value==="url"&&!s.value){c.error(p("ai-agent.backend.dslImport.errors.urlRequired"));return}else if(l.value==="url"&&s.value){const o=await T({url:s.value,description:`Remote file: ${s.value}`});s.value=o.url}await K({content:l.value==="file"?r.value:s.value,format:"yaml"}),c.success(p("ai-agent.backend.dslImport.success")),d("close",!0)});return(o,e)=>{const I=z,V=j,f=q,U=D,h=M,C=P,B=A;return g(),v(B,{title:o.$t("ai-agent.backend.dslImport.title"),description:o.$t("ai-agent.backend.dslImport.description"),ui:{content:"max-w-lg"},onClose:e[5]||(e[5]=t=>d("close",!1))},{default:m(()=>[i(I,{modelValue:n(l),"onUpdate:modelValue":e[0]||(e[0]=t=>b(l)?l.value=t:null),size:"md",variant:"link",content:!1,items:[{label:o.$t("ai-agent.backend.dslImport.tabs.file"),value:"file"},{label:o.$t("ai-agent.backend.dslImport.tabs.url"),value:"url"}],ui:{trigger:"px-0! mr-5!"},class:"w-auto"},null,8,["modelValue","items"]),a("div",S,[n(l)==="file"?(g(),v(U,{key:0,modelValue:n(r),"onUpdate:modelValue":e[2]||(e[2]=t=>b(r)?r.value=t:null),accept:".yaml,.yml",multiple:!1,maxCount:1,single:!0,icon:"i-lucide-cloud-upload",showPreviewButton:!1,addButtonClassName:"flex-row",class:"bg-muted h-14 w-full border-none! shadow-none! ring-0!"},{"file-item":m(({item:t})=>[a("div",E,[a("div",G,[i(V,{name:"bd:yml",class:"text-muted-foreground size-6 flex-none"})]),a("div",H,[a("p",J,u(t.name),1),a("p",O,u(t.extension?.toUpperCase()),1)]),a("div",Q,[i(f,{color:"error",variant:"soft",size:"sm",icon:"i-lucide-trash",onClick:e[1]||(e[1]=Y=>r.value="")})])])]),_:1},8,["modelValue"])):k("",!0),n(l)==="url"?(g(),v(C,{key:1,label:o.$t("ai-agent.backend.dslImport.form.urlLabel"),name:"url"},{default:m(()=>[i(h,{modelValue:n(s),"onUpdate:modelValue":e[3]||(e[3]=t=>b(s)?s.value=t:null),ui:{root:"w-full"},variant:"soft",size:"lg",placeholder:o.$t("ai-agent.backend.dslImport.form.urlPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0)]),a("div",W,[i(f,{color:"neutral",variant:"soft",size:"lg",onClick:e[4]||(e[4]=t=>d("close",!1))},{default:m(()=>[$(u(o.$t("console-common.cancel")),1)]),_:1}),i(f,{color:"primary",size:"lg",loading:n(y),onClick:n(w)},{default:m(()=>[$(u(o.$t("console-common.create")),1)]),_:1},8,["loading","onClick"])])]),_:1},8,["title","description"])}}});export{Ve as default};
