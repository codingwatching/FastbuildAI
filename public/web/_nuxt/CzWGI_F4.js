import{d as M,r as h,au as S,i as $,j as B,H as m,aS as q,w as x,cl as F,k,o as E,l as I,t as w,A as P,Y as W}from"#entry";import{W as j}from"./VwEZHaeT.js";import{_ as A}from"./DlAUqK2U.js";const H=M({__name:"content",props:{color:{default:"#FFF"},quantity:{default:100},speed:{default:1},maxRadius:{default:3},minRadius:{default:1},class:{default:""},style:{}},setup(R){const a=R,o=h(null),l=h(null),n=h(null),v=h([]),t=S({w:0,h:0}),{pixelRatio:f}=F();let u=null;const _=$(()=>{const e=a.color.replace(/^#/,"").padStart(6,"0"),s=parseInt(e,16),i=s>>16&255,r=s>>8&255,d=s&255;return`${i} ${r} ${d}`});B(()=>{o.value&&(n.value=o.value.getContext("2d")),c(),y(),window.addEventListener("resize",c),l.value&&(u=new ResizeObserver(()=>{m(()=>{c()})}),u.observe(l.value))}),q(()=>{window.removeEventListener("resize",c),u&&(u.disconnect(),u=null)}),x(()=>a.style,()=>{m(()=>{c()})},{deep:!0}),x([()=>a.quantity,()=>a.speed,()=>a.maxRadius,()=>a.minRadius],()=>{m(()=>{p()})});function c(){g(),p()}function g(){l.value&&o.value&&n.value&&(v.value.length=0,t.w=l.value.offsetWidth,t.h=l.value.offsetHeight,o.value.width=t.w*f.value,o.value.height=t.h*f.value,o.value.style.width=`${t.w}px`,o.value.style.height=`${t.h}px`,n.value.scale(f.value,f.value))}function p(){v.value=[];for(let e=0;e<a.quantity;e++){const s=z();v.value.push(s)}}function z(){const e=Math.random()*t.w,s=Math.random()*t.h,i=Math.random()*(a.maxRadius-a.minRadius)+a.minRadius,r=Math.random()*.5+.5,d=(Math.random()-.5)*.5,C=Math.random()*.25+a.speed;return{x:e,y:s,size:i,alpha:r,dx:d,dy:C}}function b(e){if(n.value){const{x:s,y:i,size:r,alpha:d}=e;n.value.beginPath(),n.value.arc(s,i,r,0,Math.PI*2),n.value.fillStyle=`rgba(${_.value.split(" ").join(", ")}, ${d})`,n.value.fill()}}function y(){n.value&&n.value.clearRect(0,0,t.w,t.h),v.value.forEach(e=>{e.x+=e.dx,e.y+=e.dy,e.y>t.h&&(e.y=-e.size,e.x=Math.random()*t.w),b(e)}),requestAnimationFrame(y)}return(e,s)=>(E(),k(j,{style:W(a.style),"override-bg-color":!0,"custom-class":"snowfall-bg-content"},{default:I(({style:i})=>[w("div",{ref_key:"canvasContainerRef",ref:l,class:P([a.class,"snowfall-container"]),"aria-hidden":"true"},[w("canvas",{ref_key:"canvasRef",ref:o},null,512)],2)]),_:1},8,["style"]))}}),N=A(H,[["__scopeId","data-v-46a185c8"]]);export{N as default};
