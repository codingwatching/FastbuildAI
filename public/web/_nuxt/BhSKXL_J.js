import q from"./CDSfhndf.js";import{_ as F}from"./Brlt-NDg.js";import{_ as k}from"./ilPiIi3f.js";import{d as S,e as $,ap as B,aN as L,s as j,aK as f,j as D,c as W,o as z,m as a,l as i,t as b,q as e,_ as E,y as h,x as w}from"#entry";import{_ as G}from"./Bjbrn0__.js";import{_ as I}from"./Ds48qA85.js";import{a as M,b as R}from"./D0igDNVj.js";import{c as A,a as d}from"./BUyfW8JT.js";import{u as K}from"./UqhBTNL6.js";import"./DoL5-2Ox.js";import"./CjOovgR0.js";import"./DXP7Kkdt.js";import"./BRI4D6WA.js";import"./DlAUqK2U.js";import"./DaWZu8wl.js";const T={class:"copyright-container mt-8"},H={class:"flex items-start gap-4"},J={class:"flex space-x-3 pt-4"},me=S({__name:"copyright",setup(O){const{t:s}=$(),r=B(),t=L({displayName:"",iconUrl:"",url:""}),n=j(null),U=A({displayName:d().required(s("system.website.copyright.displayName.required")),iconUrl:d().required(s("system.website.copyright.icon.required")),url:d().required(s("system.website.copyright.url.required"))}),{lockFn:u,isLock:y}=f(async()=>{try{const o=await M();n.value=o,K(t,o.copyright)}catch(o){console.error("Get website config failed:",o),r.error(s("system.website.messages.loadFailed"))}}),{lockFn:N,isLock:m}=f(async()=>{try{const o={copyright:{displayName:t.displayName,iconUrl:t.iconUrl,url:t.url}};await R(o),r.success(s("system.website.messages.saveSuccess")),await u()}catch(o){console.error("Save failed:",o),r.error(s("system.website.messages.saveFailed"))}}),v=()=>{n.value?(t.displayName=n.value.copyright.displayName||"",t.iconUrl=n.value.copyright.iconUrl||"",t.url=n.value.copyright.url||"",r.info(s("system.website.messages.resetSuccess"))):(t.displayName="",t.iconUrl="",t.url="",r.info(s("system.website.messages.resetEmpty")))};return D(()=>u()),(o,l)=>{const _=q,p=F,x=k,g=E,C=G,V=I;return z(),W("div",T,[a(V,{schema:e(U),state:e(t),class:"space-y-6",onSubmit:e(N)},{default:i(()=>[a(p,{name:"displayName",label:e(s)("system.website.copyright.displayName.label"),required:""},{default:i(()=>[a(_,{modelValue:e(t).displayName,"onUpdate:modelValue":l[0]||(l[0]=c=>e(t).displayName=c),size:"lg",ui:{root:"w-full"},placeholder:e(s)("system.website.copyright.displayName.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(p,{name:"iconUrl",label:e(s)("system.website.copyright.icon.label"),required:""},{default:i(()=>[b("div",H,[a(x,{modelValue:e(t).iconUrl,"onUpdate:modelValue":l[1]||(l[1]=c=>e(t).iconUrl=c),class:"h-24 w-24",text:e(s)("system.website.copyright.icon.upload"),icon:"i-lucide-upload",accept:".jpg,.png,.jpeg",maxCount:1,single:!0},null,8,["modelValue","text"])])]),_:1},8,["label"]),a(p,{name:"url",label:e(s)("system.website.copyright.url.label"),required:""},{default:i(()=>[a(_,{modelValue:e(t).url,"onUpdate:modelValue":l[2]||(l[2]=c=>e(t).url=c),size:"lg",ui:{root:"w-full"},placeholder:e(s)("system.website.copyright.url.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),b("div",J,[a(C,{codes:["system-website:setConfig"]},{default:i(()=>[a(g,{type:"submit",color:"primary",loading:e(m),disabled:e(m)||e(y)},{default:i(()=>[h(w(e(m)?e(s)("system.website.actions.saving"):e(s)("system.website.actions.saveChanges")),1)]),_:1},8,["loading","disabled"])]),_:1}),a(g,{type:"reset",color:"neutral",variant:"outline",disabled:e(m)||e(y),onClick:v},{default:i(()=>[h(w(e(s)("system.website.actions.reset")),1)]),_:1},8,["disabled"])])]),_:1},8,["schema","state","onSubmit"])])}}});export{me as default};
