import{d as I,e as F,s as x,au as k,w as $,k as z,o as C,l as f,m as l,t as o,x as _,q as a,z as O,n as R,p as A,_ as D,v as L,y as G,c as H,C as J,A as K,F as Q,B as W}from"#entry";import{_ as X}from"./BodiR9AC.js";import{_ as Y}from"./DJ9SNVgt.js";import{_ as Z}from"./CsY35JUW.js";import{_ as ee}from"./C15zEijU.js";import{_ as te}from"./CvZB4bI9.js";import{d as oe}from"./C-XPfH0G.js";import"./B-p4_8pw.js";import"./CDSfhndf.js";import"./BNMwDuRp.js";import"./CR9qioUt.js";import"./BRI4D6WA.js";import"./DlAUqK2U.js";import"./DPwLTNIs.js";import"./B0g9CpkI.js";import"./CgMDXot0.js";import"./DVSiT9pd.js";import"./CZsOHrUj.js";import"./DegKy-XA.js";import"./DaC7Nksz.js";import"./cwT2REE1.js";import"./CXk2IlXx.js";import"./D_1uxSdv.js";import"./DoL5-2Ox.js";import"./DBwQYu6J.js";import"./DnFVE45b.js";import"./DSCppvl0.js";import"./7d3iyZ8h.js";import"./BstbYvQo.js";import"./KiG0a5S-.js";import"./kRIii9yh.js";import"./B1TeSxwV.js";import"./C6Y-ieo6.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";const ae={class:"truncate"},se={class:"flex items-center gap-2"},ie={class:"hidden"},ne={class:"bg-background w-84 overflow-hidden rounded-lg p-4 shadow-lg"},le={class:"mb-4"},de={class:"mb-1 text-sm font-medium"},re={class:"space-y-2"},me={class:"flex items-center justify-between"},pe={class:"text-sm font-medium"},ce={class:"space-y-3"},ue={class:"flex items-center gap-3"},fe={class:"flex w-20 min-w-0 items-center"},_e={class:"text-muted-foreground text-xs"},Ye=I({__name:"model-config",props:{modelValue:{default:()=>({id:"",options:{}})},disabled:{type:Boolean,default:!1},buttonUi:{}},emits:["update:modelValue"],setup(B,{emit:M}){const s=B,j=M,{t:i}=F(),d=x(!1),b=x(""),r=x(s.modelValue.id),c=[{key:"temperature",label:i("ai-provider.backend.modelConfig.temperature.title"),description:i("ai-provider.backend.modelConfig.temperature.description"),range:{min:0,max:1,step:.1,default:0}},{key:"topP",label:i("ai-provider.backend.modelConfig.top_p.title"),description:i("ai-provider.backend.modelConfig.top_p.description"),range:{min:0,max:1,step:.1,default:1}},{key:"presencePenalty",label:i("ai-provider.backend.modelConfig.presence_penalty.title"),description:i("ai-provider.backend.modelConfig.presence_penalty.description"),range:{min:0,max:1,step:.1,default:0}},{key:"frequencyPenalty",label:i("ai-provider.backend.modelConfig.frequency_penalty.title"),description:i("ai-provider.backend.modelConfig.frequency_penalty.description"),range:{min:0,max:1,step:.1,default:0}}],u=k(c.reduce((t,{key:e,range:p})=>({...t,[e]:s.modelValue.options?.[e]??p.default}),{})),m=k(c.reduce((t,{key:e})=>({...t,[e]:s.modelValue.options?.[e]!==void 0}),{})),v=()=>{const t=Object.fromEntries(c.filter(({key:e})=>m[e]).map(({key:e})=>[e,u[e]]));j("update:modelValue",{id:r.value,options:t})},V=t=>{r.value=t,v()},y=t=>{t&&(b.value=t.name,r.value=t.id,v())};return $([u,m],v,{deep:!0}),$(()=>s.modelValue,t=>{r.value=t.id,c.forEach(({key:e,range:p})=>{u[e]=t.options?.[e]??p.default,m[e]=t.options?.[e]!==void 0})},{deep:!0}),oe({o:()=>d.value=!d.value}),(t,e)=>{const p=O,w=D,U=X,N=Y,P=Z,S=ee,q=te;return C(),z(q,{open:a(d),"onUpdate:open":e[1]||(e[1]=n=>W(d)?d.value=n:null),"default-open":!1,disabled:s.disabled},{content:f(()=>[o("div",ne,[o("div",le,[o("h3",de,_(t.$t("ai-agent.backend.configuration.model")),1),l(U,{"model-value":a(r),disabled:s.disabled,"button-ui":{variant:"outline",color:"neutral",size:"lg",class:"w-full justify-between bg-background"},supportedModelTypes:["llm"],"onUpdate:modelValue":V,onChange:y},null,8,["model-value","disabled"])]),o("div",re,[o("div",me,[o("h3",pe,_(t.$t("ai-agent.backend.configuration.parameters")),1),l(w,{size:"xs",variant:"soft",color:"primary",icon:"i-lucide-plus"},{default:f(()=>[G(_(t.$t("ai-agent.backend.configuration.preset")),1)]),_:1})]),o("div",ce,[(C(),H(Q,null,J(c,({key:n,label:E,description:T,range:g})=>o("div",{key:n},[o("div",ue,[l(N,{modelValue:a(m)[n],"onUpdate:modelValue":h=>a(m)[n]=h,size:"sm"},null,8,["modelValue","onUpdate:modelValue"]),o("div",fe,[o("span",_e,_(E),1),l(P,{text:T,"delay-duration":0},{default:f(()=>[l(p,{name:"i-lucide-circle-help",class:"text-muted-foreground ml-1 size-3"})]),_:1},8,["text"])]),o("div",{class:K(["flex-1",{"pointer-events-none opacity-50":!a(m)[n]}])},[l(S,{modelValue:a(u)[n],"onUpdate:modelValue":h=>a(u)[n]=h,min:g.min,max:g.max,step:g.step,size:"sm",class:"w-full"},null,8,["modelValue","onUpdate:modelValue","min","max","step"])],2)])])),64))])])])]),default:f(()=>[l(w,R({color:a(b)?"primary":"neutral",variant:"soft",class:"flex items-center justify-between",disabled:s.disabled},s.buttonUi,{onClick:e[0]||(e[0]=A(()=>{},["stop"]))}),{default:f(()=>[o("span",ae,_(a(b)||a(i)("common.placeholder.modelSelect")),1),o("div",se,[l(p,{name:"i-lucide-settings-2"})])]),_:1},16,["color","disabled"]),o("div",ie,[a(d)?L("",!0):(C(),z(U,{key:0,"model-value":a(r),disabled:s.disabled,"button-ui":{variant:"soft",color:"neutral",size:"lg",class:"w-full justify-between"},supportedModelTypes:["llm"],"onUpdate:modelValue":V,onChange:y},null,8,["model-value","disabled"]))])]),_:1},8,["open","disabled"])}}});export{Ye as default};
