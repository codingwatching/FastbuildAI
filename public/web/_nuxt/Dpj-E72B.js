import{d as U,aY as q,aJ as E,a$ as F,r as x,i as N,w as V,c as a,t as o,m as t,l as m,B as H,q as i,F as w,C as k,E as I,x as h,y as J,k as P,b7 as R,_ as G,b8 as W,b0 as Y,b9 as j,o as n,A as B,an as K,H as M}from"#entry";import{_ as X}from"./DwzRPK54.js";import{_ as Z}from"./DU_7w33M.js";import{_ as Q}from"./CR9qioUt.js";import{_ as ee}from"./v5c6j4m5.js";import{_ as te}from"./tYG64TNz.js";import{_ as oe}from"./BixMXl5t.js";import{d as ne}from"./C-XPfH0G.js";import"./r8IkyAmp.js";import"./CHCbUdJ4.js";import"./DegKy-XA.js";import"./CXk2IlXx.js";import"./CgMDXot0.js";import"./C6Y-ieo6.js";import"./BRI4D6WA.js";import"./DlAUqK2U.js";import"./DXP7Kkdt.js";import"./BvBcSqjy.js";import"./DDJ79SjH.js";import"./Ti3HjCpC.js";import"./B1TeSxwV.js";import"./RmzZBBRE.js";import"./C4jlvBh2.js";import"./7d3iyZ8h.js";const se={class:"bg-background flex size-full overflow-hidden"},ae={class:"fixed bottom-1/2 left-0 md:hidden"},ie={class:"relative flex h-full w-52 flex-col"},le={class:"absolute -right-7 bottom-1/2 md:hidden"},re={class:"flex-1 overflow-hidden"},ce={key:0,class:"h-full space-y-3"},de={key:1,class:"flex flex-col gap-3"},pe=["onClick"],ue={class:"mt-auto px-4 py-2"},me={class:"bg-muted w-0 overflow-x-hidden transition-[width] md:w-44 lg:w-52"},_e={class:"flex h-full w-full min-w-44 flex-col gap-4"},fe={class:"flex-1 overflow-hidden"},ve={key:0,class:"h-full space-y-3"},ye={key:1,class:"flex flex-col gap-3 text-sm"},he=["onClick"],ge={class:"mt-auto px-4 py-2"},xe={id:"__read_area__",class:"flex-1 overflow-y-auto"},we={class:"mx-auto flex w-full flex-col gap-4 p-6 md:max-w-prose"},ke={key:0,class:"space-y-4"},Ce={class:"mt-8! space-y-6"},Ae={key:1,class:"space-y-4"},be={class:"text-2xl font-medium"},Te={class:"text-foreground/60 text-xs"},Se={key:1},$e={class:"prose dark:prose-invert"},tt=U({__name:"index",async setup(Be){let f,C;q({title:"Policy Agreements"});const D=E(),{data:v,pending:A}=([f,C]=F(()=>Y(()=>j(),{transform:u=>{const e=u.agreement;if(!e)return console.warn("Agreement configuration not found"),[];const c=[];return e.serviceTitle&&e.serviceContent&&c.push({title:e.serviceTitle,type:"service",content:e.serviceContent,updateAt:e.updateAt||new Date().toISOString()}),e.privacyTitle&&e.privacyContent&&c.push({title:e.privacyTitle,type:"privacy",content:e.privacyContent,updateAt:e.updateAt||new Date().toISOString()}),e.paymentTitle&&e.paymentContent&&c.push({title:e.paymentTitle,type:"payment",content:e.paymentContent,updateAt:e.updateAt||new Date().toISOString()}),c}},"$8SJ7sF5zWw")),f=await f,C(),f);(!v.value||v.value.length===0)&&console.error("Agreement configuration data not found");const p=x(!1);ne({o:()=>p.value=!p.value});const g=x(!1),r=x(null),b=N(()=>[{id:"agreement",value:"agreement",label:"Policy Agreements",defaultOpen:!0,list:v.value||[]}]);async function T(u,e){g.value=!0,r.value=e,await K({path:"/agreement",query:{type:u,item:e.type}},{replace:!0}),await M(),document.getElementById("__read_area__")?.scrollTo({top:0,behavior:"smooth"}),g.value=!1}return V(()=>D.query,u=>{const e=u.type,c=u.item,s=v.value||[];if(e==="agreement"&&c){const _=s.find(y=>y.type===c);if(_){r.value=_;return}}s[0]&&!r.value&&(r.value=s[0])},{immediate:!0}),(u,e)=>{const c=G,s=X,_=Z,y=Q,S=ee,$=W,O=te,z=oe,L=R("dompurify-html");return n(),a("div",se,[o("div",ae,[t(c,{icon:"tabler:list",ui:{base:"rounded-s-none"},onClick:e[0]||(e[0]=l=>p.value=!0)})]),t(O,{open:i(p),"onUpdate:open":e[2]||(e[2]=l=>H(p)?p.value=l:null),side:"left",ui:{content:"!w-fit flex-0 max-w-fit"}},{content:m(()=>[o("div",ie,[o("div",le,[t(c,{icon:"tabler:text-wrap",ui:{base:"rounded-s-none"},onClick:e[1]||(e[1]=l=>p.value=!1)})]),o("div",re,[t(y,{class:"h-full px-4"},{default:m(()=>[t(_,{items:i(b),type:"multiple",style:{"--ui-border":"transparent"},"default-value":["agreement"],ui:{trigger:"text-md",trailingIcon:"size-4"}},{content:m(({item:l})=>[i(A)?(n(),a("div",ce,[t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"})])):(n(),a("div",de,[(n(!0),a(w,null,k(l.list,d=>(n(),a("div",{key:d.type,class:B(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":d.type===i(r)?.type}]),onClick:()=>{T(l.id,d),p.value=!1}},h(d.title),11,pe))),128))]))]),_:1},8,["items"])]),_:1})]),o("div",ue,[t($,null,{default:m(()=>[t(S)]),_:1})])])]),_:1},8,["open"]),o("div",me,[o("div",_e,[o("div",fe,[t(y,{class:"h-full pr-4 pl-2"},{default:m(()=>[t(_,{items:i(b),type:"multiple","default-value":["agreement"],style:{"--ui-border":"transparent"},ui:{trailingIcon:"size-4"}},{content:m(({item:l})=>[i(A)?(n(),a("div",ve,[t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"})])):(n(),a("div",ye,[(n(!0),a(w,null,k(l.list,d=>(n(),a("div",{key:d.type,class:B(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":d.type===i(r)?.type}]),onClick:De=>T(l.id,d)},h(d.title),11,he))),128))]))]),_:1},8,["items"])]),_:1})]),o("div",ge,[t($,null,{default:m(()=>[t(S)]),_:1})])])]),o("div",xe,[o("div",we,[i(g)?(n(),a("div",ke,[t(s,{class:"h-6 w-[250px]"}),t(s,{class:"h-4 w-[200px]"}),o("div",Ce,[(n(),a(w,null,k(15,l=>t(s,{key:l,class:"h-4 w-full"})),64))])])):(n(),a("div",Ae,[o("h1",be,h(i(r)?.title),1),o("p",Te,[J(h(u.$t("common.updateAt"))+": ",1),i(r)?.updateAt?(n(),P(z,{key:0,datetime:i(r).updateAt,mode:"datetime"},null,8,["datetime"])):(n(),a("span",Se,"-"))]),I(o("div",$e,null,512),[[L,i(r)?.content]])]))])])])}}});export{tt as default};
