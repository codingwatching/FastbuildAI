import{p as T,a4 as P,a5 as O,q as x,J as C,D as R,s as k,a6 as A,a7 as W,a8 as j,l as M,a9 as I,Z as d,aa as g,ab as L,ac as _}from"#entry";function V(e){return P()?(O(e),!0):!1}const w=new WeakMap,H=(...e)=>{var n;const i=e[0],t=(n=g())==null?void 0:n.proxy;if(t==null&&!L())throw new Error("injectLocal must be called in setup");return t&&w.has(t)&&i in w.get(t)?w.get(t)[i]:_(...e)},E=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const K=e=>typeof e<"u",G=Object.prototype.toString,Q=e=>G.call(e)==="[object Object]",f=()=>{};function N(...e){if(e.length!==1)return W(...e);const n=e[0];return typeof n=="function"?j(I(()=>({get:n,set:f}))):M(n)}function y(e,n){function i(...t){return new Promise((a,r)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(a).catch(r)})}return i}const S=e=>e();function q(e,n={}){let i,t,a=f;const r=s=>{clearTimeout(s),a(),a=f};let o;return s=>{const u=d(e),l=d(n.maxWait);return i&&r(i),u<=0||l!==void 0&&l<=0?(t&&(r(t),t=void 0),Promise.resolve(s())):new Promise((m,v)=>{a=n.rejectOnCancel?v:m,o=s,l&&!t&&(t=setTimeout(()=>{i&&r(i),t=void 0,m(o())},l)),i=setTimeout(()=>{t&&r(t),t=void 0,m(s())},u)})}}function J(...e){let n=0,i,t=!0,a=f,r,o,c,s,u;!R(e[0])&&typeof e[0]=="object"?{delay:o,trailing:c=!0,leading:s=!0,rejectOnCancel:u=!1}=e[0]:[o,c=!0,s=!0,u=!1]=e;const l=()=>{i&&(clearTimeout(i),i=void 0,a(),a=f)};return v=>{const p=d(o),b=Date.now()-n,h=()=>r=v();return l(),p<=0?(n=Date.now(),h()):(b>p&&(s||!t)?(n=Date.now(),h()):c&&(r=new Promise((F,D)=>{a=u?D:F,i=setTimeout(()=>{n=Date.now(),t=!0,F(h()),l()},Math.max(0,p-b))})),!s&&!i&&(i=setTimeout(()=>t=!0,p)),t=!1,r)}}function Z(e=S,n={}){const{initialState:i="active"}=n,t=N(i==="active");function a(){t.value=!1}function r(){t.value=!0}const o=(...c)=>{t.value&&e(...c)};return{isActive:j(t),pause:a,resume:r,eventFilter:o}}function U(e){let n;function i(){return n||(n=e()),n}return i.reset=async()=>{const t=n;n=void 0,t&&await t},i}function X(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function Y(e){return Array.isArray(e)?e:[e]}function $(e){return g()}function ee(e,n=200,i={}){return y(q(n,i),e)}function te(e,n=200,i=!1,t=!0,a=!1){return y(J(n,i,t,a),e)}function z(e,n,i={}){const{eventFilter:t=S,...a}=i;return T(e,y(t,n),a)}function ne(e,n,i={}){const{eventFilter:t,initialState:a="active",...r}=i,{eventFilter:o,pause:c,resume:s,isActive:u}=Z(t,{initialState:a});return{stop:z(e,n,{...r,eventFilter:o}),pause:c,resume:s,isActive:u}}function ie(e,n=!0,i){$()?x(e,i):n?e():C(e)}function re(e,n,i={}){const{immediate:t=!0,immediateCallback:a=!1}=i,r=k(!1);let o;function c(){o&&(clearTimeout(o),o=void 0)}function s(){r.value=!1,c()}function u(...l){a&&e(),c(),r.value=!0,o=setTimeout(()=>{r.value=!1,o=void 0,e(...l)},d(n))}return t&&(r.value=!0,E&&u()),V(s),{isPending:A(r),start:u,stop:s}}function ae(e,n,i){return T(e,n,{...i,immediate:!0})}export{V as a,ie as b,N as c,K as d,H as e,ne as f,Q as g,U as h,E as i,ee as j,te as k,X as p,Y as t,re as u,ae as w};
