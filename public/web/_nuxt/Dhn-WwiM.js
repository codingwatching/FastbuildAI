import{d as S,aJ as N,ar as T,e as U,br as D,i as I,r as V,a$ as F,b0 as q,w as E,c,q as e,o,t as a,m,k as x,v as u,A as g,_ as G,z as H,l as k,x as i,y as p,aH as J,bj as L}from"#entry";import{_ as Q}from"./CsY35JUW.js";import{_ as K}from"./CGkf3lDq.js";import{_ as O}from"./BN8W-Pju.js";import{u as f}from"./Dx01Lm3C.js";import{a as W}from"./BI1JbAYD.js";import{j as X}from"./DRV5AIQP.js";import{u as Y}from"./zDgZcZqa.js";import"./DBwQYu6J.js";import"./DnFVE45b.js";import"./DegKy-XA.js";import"./DSCppvl0.js";import"./7d3iyZ8h.js";import"./r8IkyAmp.js";import"./CHCbUdJ4.js";import"./CXk2IlXx.js";import"./CgMDXot0.js";import"./C6Y-ieo6.js";import"./B-p4_8pw.js";import"./CvZB4bI9.js";import"./KiG0a5S-.js";import"./kRIii9yh.js";import"./B1TeSxwV.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";import"./cwT2REE1.js";import"./DaC7Nksz.js";const Z={key:0,class:"flex h-full min-h-0 w-full"},ee={class:"flex flex-col space-y-3"},te={class:"bg-primary-50 border-default flex rounded-lg border p-2"},se={class:"text-foreground line-clamp-2 text-sm font-medium"},ae={key:1,class:"text-muted-foreground text-xs"},ie={class:"text-muted-foreground flex flex-col space-y-3 text-xs"},oe={key:0,class:"flex items-center justify-between font-medium"},ne={key:1,class:"flex items-center justify-between font-medium"},le={key:2,class:"flex items-center justify-between font-medium"},re={key:3,class:"text-accent-foreground flex items-center justify-between font-medium"},de={class:"flex h-full w-full flex-col justify-between"},ce={key:1,class:"flex h-[calc(100vh-6rem)] items-center justify-center text-center"},me={class:"max-w-md"},ue={class:"mb-2 text-xl font-semibold text-gray-800"},pe={class:"text-muted-foreground mb-6"},Ge=S({__name:"[id]",async setup(fe){let b,w;const v=N(),$=T(),{t:l}=U(),z=D("(max-width: 1380px)"),{hasAccessByCodes:_}=Y(),r=I(()=>v.params.id),s=V(!1),{data:n}=([b,w]=F(()=>q(`dataset-detail-${r.value}`,()=>X(r.value))),b=await b,w(),b);L("datasets",n);const R={normal:l("ai-datasets.backend.create.segment.general"),hierarchical:l("ai-datasets.backend.create.segment.hierarchical")},C={vector:l("ai-datasets.backend.retrieval.vector"),fullText:l("ai-datasets.backend.retrieval.fullText"),hybrid:l("ai-datasets.backend.retrieval.hybrid")};return E(z,t=>{t?s.value=!0:s.value=!1}),(t,d)=>{const h=G,y=H,P=Q,j=K,M=O,A=J;return e(n)!==void 0?(o(),c("div",Z,[a("div",{class:g(["bg-muted flex h-full w-50 flex-none flex-col rounded-tr-xl rounded-br-xl p-4",{"w-18!":e(s)}])},[a("div",ee,[a("div",{class:g(["flex items-center justify-between gap-2",{"flex-col!":e(s)}])},[m(h,{variant:"soft",color:"neutral",size:"lg","leading-icon":"i-lucide-arrow-left",onClick:d[0]||(d[0]=B=>e($).replace(("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:list")))}),a("div",te,[m(y,{name:"i-lucide-folder",class:"text-primary size-5"})])],2),e(s)?u("",!0):(o(),x(P,{key:0,text:e(n)?.name,"delay-duration":0},{default:k(()=>[a("div",se,i(e(n)?.name),1)]),_:1},8,["text"])),e(s)?u("",!0):(o(),c("div",ae,i(e(n)?.description),1)),a("div",ie,[e(s)?u("",!0):(o(),c("div",oe,[a("span",null,i(e(l)("ai-datasets.backend.create.stepThree.segmentMode"))+"：",1),p(" "+i(R[e(n)?.indexingConfig?.documentMode||"normal"]),1)])),e(s)?u("",!0):(o(),c("div",ne,[a("span",null,i(e(l)("ai-datasets.backend.common.retrievalMode"))+"：",1),p(" "+i(C[e(n)?.retrievalConfig?.retrievalMode||"vector"]),1)])),e(s)?u("",!0):(o(),c("div",le,[a("span",null,i(e(l)("ai-datasets.backend.dataset.table.storageSize"))+"：",1),p(" "+i(("formatFileSize"in t?t.formatFileSize:e(W))(e(n)?.storageSize*1)),1)])),e(s)?u("",!0):(o(),c("div",re,[a("span",null,i(t.$t("ai-datasets.backend.menu.relatedApplications"))+"：",1),p(" "+i(e(n)?.relatedAgentCount||0),1)]))])]),m(j,{class:"my-3 flex"}),a("div",de,[m(M,{orientation:"vertical",collapsed:e(s),items:[e(_)(["ai-datasets-documents:list"])?{label:t.$t("ai-datasets.backend.menu.documents"),icon:"i-lucide-files",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets-documents:list",{id:e(r)}),active:e(v).path.includes(`/console/datasets/${e(r)}/segments`)||e(v).path.includes(`/console/datasets/${e(r)}/documents`)}:null,e(_)(["ai-datasets:retrieval-test"])?{label:t.$t("ai-datasets.backend.menu.retrieval"),icon:"i-lucide-radar",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:retrieval-test",{id:e(r)})}:null,e(_)(["ai-datasets-team-members:list"])?{label:t.$t("ai-datasets.backend.menu.members"),icon:"i-lucide-users",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets-team-members:list",{id:e(r)})}:null,e(_)(["ai-datasets:update"])?{label:t.$t("ai-datasets.backend.menu.settings"),icon:"i-lucide-settings-2",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:update",{id:e(r)})}:null].filter(Boolean),class:"data-[orientation=vertical]:w-full",ui:{list:"space-y-1",link:e(s)?"p-2.5":"p-2 pl-3",linkLeadingIcon:e(s)?"size-5":"size-4"}},null,8,["collapsed","items","ui"]),a("div",{class:g(["mt-auto flex items-center justify-center",{"justify-between!":!e(s)}])},[m(h,{"data-sidebar":"trigger",variant:"ghost",color:"neutral",size:"xs",ui:{base:"py-2"},onClick:d[1]||(d[1]=B=>s.value=!e(s))},{default:k(()=>[e(s)?(o(),x(y,{key:1,name:"i-lucide-panel-left",class:"size-5"})):(o(),x(y,{key:0,name:"i-lucide-panel-right",class:"size-5"})),d[2]||(d[2]=a("span",{class:"sr-only"},"侧边栏切换",-1))]),_:1})],2)])],2),m(A)])):(o(),c("div",ce,[a("div",me,[d[3]||(d[3]=a("h1",{class:"text-error mb-4 text-6xl font-extrabold"},"403",-1)),a("p",ue,i(t.$t("ai-datasets.backend.permission.title")),1),a("p",pe,i(t.$t("ai-datasets.backend.permission.description")),1),m(h,{to:"/",color:"primary",size:"lg",icon:"i-heroicons-arrow-left"},{default:k(()=>[p(i(t.$t("ai-datasets.backend.permission.back")),1)]),_:1})])]))}}});export{Ge as default};
