import{d as U,at as k,av as K,i as B,s as C,n as D,q as E,c as h,o as y,x as v,t as n,z as f,w as s,_ as S,A as x,f as V,g as t,bJ as z,G as A}from"#entry";import{_ as L}from"./bvMLy1sv.js";import{_ as N}from"./o4ws_w_T.js";import{_ as R}from"./B5gsc-Ax.js";import{_ as q}from"./tVksIQiG.js";import{c as F,d as G}from"./CDTOQVr1.js";import{u as M}from"./CxvgZo8z.js";import"./D9sX2Qi6.js";import"./CAQVAH0V.js";import"./Deu6qIfg.js";const I={class:"system-payConfig p-2"},J={class:"mb-6"},j={class:"text-secondary-foreground text-2xl font-bold"},H={key:1},ne=U({__name:"index",setup(O){const u=k(),P=K(),{t:e}=B(),_=C([]),$=D(()=>[{accessorKey:"logo",header:e("payment-config.logo")},{accessorKey:"payType",header:e("payment-config.payType")},{accessorKey:"name",header:e("payment-config.name")},{accessorKey:"isEnable",header:e("payment-config.isEnable")},{accessorKey:"isDefault",header:e("payment-config.isDefault")},{accessorKey:"sort",header:e("payment-config.sort")},{accessorKey:"action",header:e("payment-config.action")}]),w=z(async(o,c)=>{try{await G(o,c),u.success(e("system.website.messages.saveSuccess")),g()}catch{u.error(e("system.website.messages.saveFailed"))}},1e3),g=async()=>{const o=await F();_.value=o.map(({id:c,name:r,payType:i,isEnable:l,logo:d,isDefault:m,sort:p})=>({id:c,name:r,payType:i,isEnable:l,logo:d,isDefault:m,sort:p}))},T=o=>{P.push({path:M("system-payconfig:update"),query:{id:o}})};return E(()=>g()),(o,c)=>{const r=A,i=L,l=N,d=S,m=R,p=q;return y(),h("div",I,[v("div",J,[v("h1",j,f(o.$t("payment-config.title")),1)]),n(p,{columns:t($),data:t(_),ui:{base:"table-fixed border-separate border-spacing-0",thead:"[&>tr]:bg-elevated/50 [&>tr]:after:content-none",tbody:"[&>tr]:last:[&>td]:border-b-0",th:"py-2 first:rounded-l-lg last:rounded-r-lg border-y border-default first:border-l last:border-r",td:"border-b border-default",tr:"[&:has(>td[colspan])]:hidden"}},{"logo-cell":s(({row:a})=>[n(r,{src:a.original.logo,alt:a.original.payType===1?t(e)("payment-config.wxPay"):t(e)("payment-config.alipayPay"),size:"md",ui:{root:"rounded-lg"}},null,8,["src","alt"])]),"payType-cell":s(({row:a})=>[x(f(a.original.payType===1?t(e)("payment-config.wxPay"):t(e)("payment-config.aliPay")),1)]),"isEnable-cell":s(({row:a})=>[n(i,{"model-value":a.original.isEnable===1,"onUpdate:modelValue":b=>t(w)(a.original.id,b?1:0),size:"md"},null,8,["model-value","onUpdate:modelValue"])]),"isDefault-cell":s(({row:a})=>[a.original.isDefault===1?(y(),V(l,{key:0,label:t(e)("console-common.default"),color:"success"},null,8,["label"])):(y(),h("div",H))]),"action-cell":s(({row:a})=>[n(m,{codes:["system-payconfig:update"]},{default:s(()=>[n(d,{size:"md",variant:"ghost",color:"primary",onClick:b=>T(a.original.id)},{default:s(()=>[x(f(o.$t("console-common.edit")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["columns","data"])])}}});export{ne as default};
