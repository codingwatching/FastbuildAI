import{d as C,ar as S,e as B,c,o as m,t,p as h,m as i,q as o,l as u,_ as M,z as U,x as a,aV as $}from"#entry";import{_ as V}from"./6WwfWHXT.js";import{_ as A}from"./CsY35JUW.js";import{a as D}from"./BI1JbAYD.js";import{u as F}from"./zDgZcZqa.js";import{u as I}from"./Dx01Lm3C.js";const T={class:"mb-3 flex items-start gap-3"},q={class:"border-default bg-primary-50 dark:bg-primary-600! flex size-10 flex-none items-center justify-center rounded-lg border"},N={class:"flex min-w-0 flex-1 flex-col"},R={class:"text-foreground truncate text-sm font-medium"},j={class:"text-muted-foreground mt-1 text-xs"},E={class:"text-muted-foreground mb-4 h-10 pr-8 text-xs"},L={key:0,class:"line-clamp-2 overflow-hidden"},P={key:1,class:"line-clamp-2 overflow-hidden"},G={class:"text-muted-foreground mt-1 flex gap-6 text-xs"},H={class:"flex items-center"},J={class:"ml-3 text-xs"},K={class:"flex items-center"},O={class:"ml-3 text-xs"},te=C({__name:"dataset-card",props:{dataset:{}},emits:["delete","settings","retry"],setup(s,{emit:b}){const n=s,d=b,v=S(),{t:e}=B(),{hasAccessByCodes:l}=F(),f={vector:{value:e("ai-datasets.backend.retrieval.vector"),color:"primary"},fullText:{value:e("ai-datasets.backend.retrieval.fullText"),color:"success"},hybrid:{value:e("ai-datasets.backend.retrieval.hybrid"),color:"warning"}},g=()=>{v.push(I("ai-datasets-documents:list",{id:n.dataset.id}))},y=[l(["ai-datasets:update"])?{label:e("ai-datasets.backend.menu.settings"),color:"primary",onSelect:()=>d("settings",n.dataset)}:null,l(["ai-datasets:delete"])?{label:e("console-common.delete"),color:"error",onSelect:()=>d("delete",n.dataset)}:null,l(["ai-datasets:retry"])?{label:e("ai-datasets.backend.dataset.retry.title"),color:"warning",onSelect:()=>d("retry",n.dataset)}:null].filter(Boolean);return(p,r)=>{const k=M,w=V,z=U,x=$,_=A;return m(),c("div",{class:"group border-default relative cursor-pointer rounded-lg border p-4 transition-all duration-200 hover:shadow-lg",onClick:g},[t("div",{class:"absolute right-3 bottom-3 z-10 opacity-0 transition-opacity duration-200 group-hover:opacity-100",onClick:r[1]||(r[1]=h(()=>{},["stop"]))},[i(w,{items:o(y),popper:{placement:"bottom-end"}},{default:u(()=>[i(k,{icon:"i-heroicons-ellipsis-vertical",size:"xs",color:"neutral",variant:"ghost",class:"opacity-70 hover:opacity-100",onClick:r[0]||(r[0]=h(()=>{},["stop"]))})]),_:1},8,["items"])]),t("div",T,[t("div",q,[i(z,{name:"i-lucide-folder",class:"text-primary-500 dark:text-primary-50 h-6 w-6"})]),t("div",N,[t("h3",R,a(s.dataset.name),1),t("div",j,a(s.dataset.documentCount)+" "+a(o(e)("ai-datasets.backend.menu.documents"))+" · "+a(s.dataset.chunkCount)+" "+a(o(e)("ai-datasets.backend.menu.segments"))+" · 0 "+a(o(e)("ai-datasets.backend.menu.relatedApplications")),1)])]),t("div",E,[s.dataset.description?(m(),c("p",L,a(s.dataset.description),1)):(m(),c("p",P," useful for when you want to answer queries about the "+a(s.dataset.name),1))]),t("div",G,[i(_,{text:o(e)("ai-datasets.backend.dataset.retrievalMode"),"delay-duration":0},{default:u(()=>[t("div",H,[i(x,{color:f[s.dataset.retrievalMode].color,size:"sm"},null,8,["color"]),t("span",J,a(f[s.dataset.retrievalMode].value),1)])]),_:1},8,["text"]),i(_,{text:o(e)("ai-datasets.backend.dataset.table.storageSize"),"delay-duration":0},{default:u(()=>[t("div",K,[i(x,{color:"neutral",size:"sm"}),t("span",O,a(o(e)("ai-datasets.backend.dataset.table.storageSize"))+"： "+a(("formatFileSize"in p?p.formatFileSize:o(D))(s.dataset.storageSize*1)),1)])]),_:1},8,["text"])])])}}});export{te as _};
