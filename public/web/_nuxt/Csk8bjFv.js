const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CEbjp1nN.js","./HM4rJu8H.js","./DdBswP62.js","./Btvd554H.js","./3UOIlTK8.js","./DuSMYVIA.js","./8trvJunN.js","./VGKgjfSv.js","./D-eRyimW.js","./BgHJjJs-.js","./CR1AS2Ry.js","./BHhI-3jl.js","./Bi16nLus.js","./BTkcJ0P0.js","./XzHi4Tl0.js","./DHFmmngs.js","./kRIii9yh.js","./MN31c9CG.js","./C6Y-ieo6.js","./B2mx0Z2E.js","./B-DdbQ-X.js","./V9POJiZu.js","./CuOaO1Pb.js","./D6yWePie.js","./g_UzmQET.js","./CgMDXot0.js","./DVnbt8cp.js","./CbK4UO9G.js","./BJ10eFuk.js","./CFutYp5X.js","./AwTBxaf_.js","./AkfmfxUv.js","./BoUSUkpo.js","./BumU5Y7p.js","./BstbYvQo.js","./CvQTAktg.js","./BdImEx5p.js","./oFTPHjuc.js","./BcsO9TDZ.js","./DlAUqK2U.js","./DP8wpnmM.js","./u6i9rpSr.js","./BtIvDPex.js","./CgvJPw28.js","./PUaae8Vl.js","./fQGamG-_.js","./CH6zLhsh.js","./Cb04SOqd.js","./BUyfW8JT.js","./DaWZu8wl.js","./CdM7AtnQ.js","./Dgbe_zC5.js"])))=>i.map(i=>d[i]);
import{d as Y,ap as Z,b as ee,Q as te,s as $,aL as oe,g as E,i as se,c as f,o as u,q as r,j as I,t as ae,l as n,p as e,v as d,k as p,_ as ne,x as k,F as ie,B as ce,R as S,y as le,U as M}from"#entry";import re from"./AwTBxaf_.js";import{_ as de}from"./BumU5Y7p.js";import{_ as me}from"./g_UzmQET.js";import{_ as pe}from"./8trvJunN.js";import{_ as ue}from"./CB78hAg2.js";import{_ as _e}from"./BTkcJ0P0.js";import{_ as fe}from"./Bshy66Rp.js";import{_ as he}from"./BfmGtGB6.js";import{f as ge,g as ve,c as be,h as ye,i as ke}from"./CbK4UO9G.js";import{u as Se}from"./DkncK-NE.js";import{u as Me}from"./DYVriGl_.js";import"./DHFmmngs.js";import"./CR1AS2Ry.js";import"./Btvd554H.js";import"./B2mx0Z2E.js";import"./B-DdbQ-X.js";import"./V9POJiZu.js";import"./MN31c9CG.js";import"./BstbYvQo.js";import"./DuSMYVIA.js";import"./CgMDXot0.js";import"./DVnbt8cp.js";import"./D6yWePie.js";import"./CuOaO1Pb.js";import"./BHhI-3jl.js";import"./BgHJjJs-.js";import"./VGKgjfSv.js";import"./XzHi4Tl0.js";import"./kRIii9yh.js";import"./C6Y-ieo6.js";import"./3UOIlTK8.js";import"./BcsO9TDZ.js";import"./DlAUqK2U.js";const xe={class:"provider-list-container pb-5"},we={class:"bg-background sticky top-0 z-10 flex flex-wrap gap-4 pb-2"},Ce={class:"flex items-center gap-2 md:ml-auto"},De={class:"flex items-center gap-2"},Ue={class:"text-accent-foreground text-sm dark:text-gray-400"},Ve={class:"mt-2 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Ae={key:1,class:"flex h-[calc(100vh-13rem)] items-center justify-center"},ze={class:"flex items-center gap-3"},Te={class:"text-accent-foreground"},$e={key:2,class:"flex h-[calc(100vh-13rem)] flex-col items-center justify-center"},Ee={class:"text-secondary-foreground mb-2 text-lg font-medium"},Ie={class:"text-accent-foreground"},Pe={key:3,class:"bg-background sticky bottom-0 z-10 flex items-center justify-between gap-3 py-4"},Be={class:"text-muted text-sm"},Re={class:"flex items-center gap-1.5"},yt=Y({__name:"list",setup(Le){const P=S(()=>M(()=>import("./CEbjp1nN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url)),B=S(()=>M(()=>import("./CFutYp5X.js"),__vite__mapDeps([29,1,30,31,9,32,33,15,10,3,19,20,21,17,34,5,35,36,37,38,39,8,11,40,41,14,16,18,22,23,4,42,43,44,45,46,47,7,27,48,49]),import.meta.url)),R=S(()=>M(()=>import("./CdM7AtnQ.js"),__vite__mapDeps([50,1,2,3,4,5,6,7,51,42,43,44,19,17,45,46,47,27]),import.meta.url)),h=Z(),{t:s}=ee(),x=te(),i=$(new Set),_=oe({name:"",isDisabled:null}),w=$([]),{paging:a,getLists:m}=Se({fetchFun:ge,params:_}),L=(t,o)=>{if(typeof o=="boolean"){const c=t.id;o?i.value.add(c):i.value.delete(c)}},j=t=>{t===!0?a.items.forEach(c=>{c.id&&i.value.add(c.id)}):i.value.clear()},C=async t=>{try{await Me({title:s("ai-mcp.backend.deleteTitle"),description:s("ai-mcp.backend.deleteMessage"),color:"error"}),Array.isArray(t)?(await ye(t),h.success(s("ai-mcp.backend.deleteSuccess"))):(await ke(t),h.success(s("ai-mcp.backend.deleteSuccess"))),i.value.clear(),m()}catch(o){console.error("Delete failed:",o)}},O=t=>{t.id&&C(t.id)},q=()=>{const t=Array.from(i.value);t.length!==0&&C(t)},g=async(t="",o=!1)=>{await x.create(B).open({id:t,isJsonImport:o,"onChange-update":b=>{w.value=b||[]}}).result&&m()},F=async t=>{await x.create(R).open({id:t}).result&&m()},N=t=>{F(t)},D=()=>{g()},U=()=>{g("",!0)},Q=async t=>{try{await ve(t.id),m(),h.success(s("ai-mcp.backend.quickMenuSuccess"))}catch(o){console.error("Set quick menu failed:",o)}},G=t=>{g(t.id)},J=async(t,o)=>{try{await be(t,{isDisabled:o}),h.success(o?"MCP已禁用":"MCP已启用"),m()}catch(c){console.error("Toggle provider active failed:",c)}},K=E(()=>a.items.length>0&&a.items.every(t=>t.id&&i.value.has(t.id))),H=E(()=>{const t=a.items.filter(o=>o.id&&i.value.has(o.id)).length;return t>0&&t<a.items.length});return se(()=>m()),(t,o)=>{const c=re,v=de,V=me,b=pe,y=ne,A=ue,z=_e,W=fe,T=le,X=he;return u(),f("div",xe,[r("div",we,[n(c,{modelValue:e(_).name,"onUpdate:modelValue":o[0]||(o[0]=l=>e(_).name=l),class:"w-70",placeholder:e(s)("ai-mcp.backend.search.placeholder"),onChange:e(m)},null,8,["modelValue","placeholder","onChange"]),n(v,{modelValue:e(_).isDisabled,"onUpdate:modelValue":o[1]||(o[1]=l=>e(_).isDisabled=l),items:[{label:e(s)("ai-mcp.backend.search.all"),value:null},{label:e(s)("console-common.enabled"),value:!1},{label:e(s)("console-common.disabled"),value:!0}],class:"w-fit","label-key":"label","value-key":"value",placeholder:e(s)("ai-mcp.backend.search.status"),onChange:e(m)},null,8,["modelValue","items","placeholder","onChange"]),r("div",Ce,[r("div",De,[n(V,{"model-value":e(K)?!0:e(H)?"indeterminate":!1,"onUpdate:modelValue":j},null,8,["model-value"]),r("span",Ue,d(e(i).size)+" / "+d(e(a).items.length)+" "+d(e(s)("console-common.selected")),1)]),n(A,{codes:["ai-mcp-servers:delete"]},{default:p(()=>[n(y,{color:"error",variant:"subtle",label:e(s)("console-common.batchDelete"),icon:"i-heroicons-trash",disabled:e(i).size===0,onClick:q},{trailing:p(()=>[n(b,null,{default:p(()=>[k(d(e(i).size),1)]),_:1})]),_:1},8,["label","disabled"])]),_:1}),n(A,{codes:["ai-mcp-servers:create"]},{default:p(()=>[n(z,{size:"lg",items:[{label:e(s)("ai-mcp.backend.quickCreateTitle"),icon:"i-heroicons-plus",color:"primary",onSelect:()=>D()},{label:e(s)("ai-mcp.backend.importTitle"),icon:"i-lucide-file-json-2",color:"primary",onSelect:()=>U()}],content:{align:"start",side:"bottom",sideOffset:8},ui:{content:"w-48"}},{default:p(()=>[n(y,{icon:"i-heroicons-plus",color:"primary"},{default:p(()=>[k(d(e(s)("ai-mcp.backend.addTitle")),1)]),_:1})]),_:1},8,["items"])]),_:1})])]),!e(a).loading&&e(a).items.length>0?(u(),I(W,{key:0,class:"h-[calc(100vh-13rem)]",shadow:!1},{default:p(()=>[r("div",Ve,[(u(!0),f(ie,null,ce(e(a).items,l=>(u(),I(e(P),{key:l.id,mcpServer:l,selected:e(i).has(l.id),isUpdate:e(w),onSelect:L,onDelete:O,onEdit:G,onViewModels:N,onToggleActive:J,onSetQuickMenu:Q},null,8,["mcpServer","selected","isUpdate"]))),128))])]),_:1})):e(a).loading?(u(),f("div",Ae,[r("div",ze,[n(T,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),r("span",Te,d(t.$t("common.loading")),1)])])):(u(),f("div",$e,[n(T,{name:"i-lucide-building",class:"text-muted-foreground mb-4 h-16 w-16"}),r("h3",Ee,d(t.$t("ai-mcp.backend.emptyState")),1),r("p",Ie,d(t.$t("ai-mcp.backend.emptyStateDescription")),1),n(z,{size:"lg",items:[{label:e(s)("ai-mcp.backend.quickCreateTitle"),icon:"i-heroicons-plus",color:"primary",onSelect:()=>D()},{label:e(s)("ai-mcp.backend.importTitle"),icon:"i-lucide-file-json-2",color:"primary",onSelect:()=>U()}],content:{align:"start",side:"bottom",sideOffset:8},ui:{content:"w-48"}},{default:p(()=>[n(y,{class:"mt-4",icon:"i-heroicons-plus",color:"primary"},{default:p(()=>[k(d(t.$t("ai-mcp.backend.addFirstMcpServer")),1)]),_:1})]),_:1},8,["items"])])),e(a).total>0?(u(),f("div",Pe,[r("div",Be,d(e(i).size)+" "+d(t.$t("console-common.selected")),1),r("div",Re,[n(X,{page:e(a).page,"onUpdate:page":o[2]||(o[2]=l=>e(a).page=l),size:e(a).pageSize,"onUpdate:size":o[3]||(o[3]=l=>e(a).pageSize=l),total:e(a).total,onChange:e(m)},null,8,["page","size","total","onChange"])])])):ae("",!0)])}}});export{yt as default};
