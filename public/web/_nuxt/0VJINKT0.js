const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CVtpezFM.js","./Dgvg0_To.js","./CsY35JUW.js","./DBwQYu6J.js","./DnFVE45b.js","./DegKy-XA.js","./DSCppvl0.js","./7d3iyZ8h.js","./B-p4_8pw.js","./DyTskiS5.js","./DoL5-2Ox.js","./DVSiT9pd.js","./D_1uxSdv.js","./Bjbrn0__.js","./DNJQj0yQ.js","./6WwfWHXT.js","./KiG0a5S-.js","./CXk2IlXx.js","./kRIii9yh.js","./B1TeSxwV.js","./C6Y-ieo6.js","./Ti3HjCpC.js","./CyS2mNdj.js","./BaKvIqXP.js","./cwT2REE1.js","./DaC7Nksz.js","./DJ9SNVgt.js","./CgMDXot0.js","./CZsOHrUj.js","./zDgZcZqa.js","./BLDwvyhv.js","./CDSfhndf.js","./Brlt-NDg.js","./ilPiIi3f.js","./CjOovgR0.js","./DXP7Kkdt.js","./BRI4D6WA.js","./DlAUqK2U.js","./CR9qioUt.js","./CvZB4bI9.js","./Tmc8NqSi.js","./tnelovi7.js","./q_YSI2Sf.js","./BD5zOh0K.js","./Dc6e1ewN.js","./BjYsydzc.js","./Ds48qA85.js","./BYm23QKU.js","./DGUAW_1C.js","./DDJ79SjH.js","./RmzZBBRE.js","./C4jlvBh2.js","./C-XPfH0G.js","./Dswg8GCv.js","./BUyfW8JT.js","./DaWZu8wl.js","./UqhBTNL6.js","./Dx01Lm3C.js","./uuU1L2GU.js","./DwzRPK54.js","./tYG64TNz.js"])))=>i.map(i=>d[i]);
import{d as J,ap as W,e as X,Q as Y,aN as Z,s as E,r as ee,aK as oe,i as I,j as te,c as h,o as u,t as c,k as R,v as se,m as n,q as o,B as ae,x as l,l as p,_ as le,y,F as re,C as ie,R as k,z as ce,U as x}from"#entry";import ne from"./CDSfhndf.js";import{_ as de}from"./12pJH7Js.js";import{_ as me}from"./DJ9SNVgt.js";import{_ as ue}from"./DSCppvl0.js";import{_ as pe}from"./Bjbrn0__.js";import{_ as _e}from"./CR9qioUt.js";import{a as ve,b as he,c as fe,d as ge}from"./Dswg8GCv.js";import{u as be}from"./DcxZIiHI.js";import"./CXk2IlXx.js";import"./DVSiT9pd.js";import"./DBwQYu6J.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";import"./B1TeSxwV.js";import"./BstbYvQo.js";import"./DegKy-XA.js";import"./CgMDXot0.js";import"./CZsOHrUj.js";import"./DaC7Nksz.js";import"./cwT2REE1.js";import"./D_1uxSdv.js";import"./DoL5-2Ox.js";import"./7d3iyZ8h.js";import"./BRI4D6WA.js";import"./DlAUqK2U.js";const ye={class:"provider-list-container pb-5"},ke={class:"bg-background sticky top-0 z-10 flex flex-wrap gap-4 pb-2"},xe={class:"flex items-center gap-2 md:ml-auto"},Ae={class:"flex items-center gap-2"},we={class:"text-accent-foreground text-sm dark:text-gray-400"},Pe={class:"mt-2 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4"},Ce={key:1,class:"flex h-[calc(100vh-13rem)] items-center justify-center"},Ve={class:"flex items-center gap-3"},De={class:"text-accent-foreground"},Se={key:2,class:"flex h-[calc(100vh-13rem)] flex-col items-center justify-center"},Ee={class:"text-secondary-foreground mb-2 text-lg font-medium"},Ie={class:"text-accent-foreground"},Re={key:3,class:"bg-background sticky bottom-0 z-10 flex items-center justify-between gap-3 py-4"},Te={class:"text-muted text-sm"},Ue={class:"text-muted text-sm"},no=J({__name:"list",setup(Be){const T=k(()=>x(()=>import("./CVtpezFM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]),import.meta.url)),U=k(()=>x(()=>import("./BLDwvyhv.js"),__vite__mapDeps([30,1,31,32,10,33,34,35,36,37,8,38,39,16,17,18,3,19,20,21,22,23,24,25,5,4,40,41,11,12,28,42,43,44,45,46,47,48,49,50,51,52,7,53,54,55,56,57]),import.meta.url)),B=k(()=>x(()=>import("./uuU1L2GU.js"),__vite__mapDeps([58,1,59,38,36,37,60,49,21,5,19,50,51,53,52,7]),import.meta.url)),f=W(),{t}=X(),A=Y(),_=Z({keyword:"",isActive:void 0}),v=E(),a=ee(new Set),r=E([]),{lockFn:d,isLock:w}=oe(async()=>{try{const e=await he(_);r.value=e}catch(e){console.error("Get provider list failed:",e)}}),M=(e,s)=>{if(typeof s=="boolean"){const i=e.id;s?a.value.add(i):a.value.delete(i)}},$=e=>{e===!0?r.value.forEach(i=>{i.id&&a.value.add(i.id)}):a.value.clear()},P=async e=>{try{await be({title:t("ai-provider.backend.confirm.deleteTitle"),description:t("ai-provider.backend.confirm.deleteMessage"),color:"error"}),Array.isArray(e)?(await fe(e),f.success(t("console-common.batchDeleteSuccess"))):(await ge(e),f.success(t("common.message.deleteSuccess"))),a.value.clear(),d()}catch(s){console.error("Delete failed:",s)}},L=e=>{e.id&&P(e.id)},z=()=>{const e=Array.from(a.value);e.length!==0&&P(e)},F=async e=>{await A.create(B).open({providerId:e}).result&&d()},C=async(e="")=>{await A.create(U).open({id:e}).result&&d()},V=()=>{C()},N=e=>{C(e.id)},j=async(e,s)=>{try{await ve(e,s),f.success(t(s?"ai-provider.backend.messages.enableSuccess":"ai-provider.backend.messages.disableSuccess")),d()}catch(i){console.error("Toggle provider active failed:",i)}},O=I(()=>r.value.length>0&&r.value.every(e=>e.id&&a.value.has(e.id))),G=I(()=>{const e=r.value.filter(s=>s.id&&a.value.has(s.id)).length;return e>0&&e<r.value.length}),K=()=>{v.value==="all"?_.isActive=void 0:_.isActive=v.value===!0,d()};return te(()=>d()),(e,s)=>{const i=ne,g=de,q=me,Q=ue,b=le,D=pe,H=_e,S=ce;return u(),h("div",ye,[c("div",ke,[n(i,{modelValue:o(_).keyword,"onUpdate:modelValue":s[0]||(s[0]=m=>o(_).keyword=m),placeholder:o(t)("ai-provider.backend.search.placeholder"),onChange:o(d)},null,8,["modelValue","placeholder","onChange"]),n(g,{modelValue:o(v),"onUpdate:modelValue":s[1]||(s[1]=m=>ae(v)?v.value=m:null),items:[{label:o(t)("ai-provider.backend.search.all"),value:"all"},{label:o(t)("console-common.show"),value:!0},{label:o(t)("console-common.hide"),value:!1}],"label-key":"label","value-key":"value",placeholder:o(t)("ai-provider.backend.search.status"),onChange:K},null,8,["modelValue","items","placeholder"]),c("div",xe,[c("div",Ae,[n(q,{"model-value":o(O)?!0:o(G)?"indeterminate":!1,"onUpdate:modelValue":$},null,8,["model-value"]),c("span",we,l(o(a).size)+" / "+l(o(r).length)+" "+l(o(t)("console-common.selected")),1)]),n(D,{codes:["ai-provider.backends:delete"]},{default:p(()=>[n(b,{color:"error",variant:"subtle",label:o(t)("console-common.batchDelete"),icon:"i-heroicons-trash",disabled:o(a).size===0,onClick:z},{trailing:p(()=>[n(Q,null,{default:p(()=>[y(l(o(a).size),1)]),_:1})]),_:1},8,["label","disabled"])]),_:1}),n(D,{codes:["ai-provider.backends:create"]},{default:p(()=>[n(b,{icon:"i-heroicons-plus",color:"primary",onClick:V},{default:p(()=>[y(l(o(t)("ai-provider.backend.addTitle")),1)]),_:1})]),_:1})])]),!o(w)&&o(r).length>0?(u(),R(H,{key:0,class:"h-[calc(100vh-12rem)]",shadow:!1},{default:p(()=>[c("div",Pe,[(u(!0),h(re,null,ie(o(r),m=>(u(),R(o(T),{key:m.id,provider:m,selected:o(a).has(m.id),onSelect:M,onDelete:L,onEdit:N,onViewModels:F,onToggleActive:j},null,8,["provider","selected"]))),128))])]),_:1})):o(w)?(u(),h("div",Ce,[c("div",Ve,[n(S,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),c("span",De,l(e.$t("common.loading")),1)])])):(u(),h("div",Se,[n(S,{name:"i-lucide-building",class:"text-muted-foreground mb-4 h-16 w-16"}),c("h3",Ee,l(o(t)("ai-provider.backend.empty.noProviders")),1),c("p",Ie,l(o(t)("ai-provider.backend.empty.noProvidersDescription")),1),n(b,{class:"mt-4",icon:"i-heroicons-plus",color:"primary",onClick:V},{default:p(()=>[y(l(o(t)("ai-provider.backend.empty.addFirstProvider")),1)]),_:1})])),o(r).length>0?(u(),h("div",Re,[c("div",Te,l(o(a).size)+" "+l(e.$t("console-common.selected")),1),c("div",Ue,l(o(t)("ai-provider.backend.stats.totalProviders",{count:o(r).length})),1)])):se("",!0)])}}});export{no as default};
