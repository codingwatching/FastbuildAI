import{_ as N}from"./BixMXl5t.js";import{_ as h}from"./B-p4_8pw.js";import{_ as V}from"./CEOm-hjj.js";import{_ as z}from"./12pJH7Js.js";import{_ as A}from"./4yDHJZoY.js";import k from"./CDSfhndf.js";import{b as w}from"./dbUs94xf.js";import{u as C}from"./C1xCp5oe.js";import{d as S,e as U,j as $,h as K,c as p,o as l,m as d,t as a,l as u,v as f,k as T,x as m,q as t,y as B}from"#entry";import"./CXk2IlXx.js";import"./DVSiT9pd.js";import"./DBwQYu6J.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";import"./B1TeSxwV.js";import"./BstbYvQo.js";import"./DegKy-XA.js";import"./DhlnS5e0.js";import"./DlAUqK2U.js";const D={class:"flex h-full flex-col"},I={class:"flex flex-col items-center"},F={key:0},j={key:1},M={class:"border-default mt-auto flex items-center justify-between gap-3 border-t pt-4"},P={class:"text-muted flex items-center gap-2 text-sm"},q={class:"flex items-center gap-1.5"},E={class:"text-muted flex items-center gap-2 text-sm"},me=S({__name:"subscription-table",setup(L){const{t:n}=U(),g=N,{paging:r,getLists:i}=C({fetchFun:w});$(()=>{i()});const _=[{accessorKey:"orderNo",header:n("order.frontend.subscription.list.orderNo"),cell:({row:s})=>s.original.orderNo},{accessorKey:"planName",header:n("order.frontend.subscription.list.planName"),cell:({row:s})=>s.original.planName},{accessorKey:"levelName",header:n("order.frontend.subscription.list.levelName"),cell:({row:s})=>s.original.levelName},{accessorKey:"duration",header:n("order.frontend.subscription.list.duration"),cell:({row:s})=>s.original.duration},{accessorKey:"orderAmount",header:n("order.frontend.subscription.list.paidInAmount"),cell:({row:s})=>{const e=Number.parseFloat(s.getValue("orderAmount")||"0");return new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(e)}},{accessorKey:"payTypeDesc",header:n("order.frontend.subscription.list.paymentMethod")},{accessorKey:"createdAt",header:n("order.frontend.subscription.list.createdAt"),cell:({row:s})=>{const e=s.getValue("createdAt");return K(g,{datetime:e,mode:"datetime"})}}];return(s,e)=>{const c=h,y=V,b=z,x=A,v=k;return l(),p("div",D,[d(y,{ref:"table",sticky:"",data:t(r).items,columns:_,class:"max-h-full flex-1",ui:{th:"whitespace-nowrap"}},{"payTypeDesc-cell":u(({row:o})=>[a("div",I,[o.original.payType===1?(l(),p("div",F,m(t(n)("order.frontend.subscription.list.wechat")),1)):o.original.payType===2?(l(),p("div",j,m(t(n)("order.frontend.subscription.list.alipay")),1)):f("",!0),o.original.refundStatus===1?(l(),T(c,{key:2,color:"warning"},{default:u(()=>[B(m(t(n)("order.frontend.subscription.list.refunded")),1)]),_:1})):f("",!0)])]),_:1},8,["data"]),a("div",M,[a("div",P,[a("span",null,"共 "+m(t(r).total)+" 条",1),d(b,{modelValue:t(r).pageSize,"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).pageSize=o),size:"lg",items:[{label:"10 条/页",value:10},{label:"20 条/页",value:20},{label:"50 条/页",value:50},{label:"100 条/页",value:100}],class:"w-28",onChange:e[1]||(e[1]=o=>t(i)())},null,8,["modelValue"])]),a("div",q,[d(x,{page:t(r).page,"onUpdate:page":e[2]||(e[2]=o=>t(r).page=o),size:t(r).pageSize,"onUpdate:size":e[3]||(e[3]=o=>t(r).pageSize=o),"show-edges":"",total:t(r).total,onChange:e[4]||(e[4]=o=>t(i)())},null,8,["page","size","total"]),a("div",E,[e[7]||(e[7]=a("span",null,"前往",-1)),d(v,{modelValue:t(r).page,"onUpdate:modelValue":e[5]||(e[5]=o=>t(r).page=o),size:"lg",type:"number",class:"w-18",onChange:e[6]||(e[6]=o=>t(i)())},null,8,["modelValue"]),e[8]||(e[8]=a("span",null,"页",-1))])])])])}}});export{me as default};
