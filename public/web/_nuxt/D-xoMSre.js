import{d as D,e as E,r as S,i as v,j as A,k as T,o as d,l as n,t as c,m as r,_ as j,y as M,x as s,q as i,c as x,v as q,z as O,aV as F,D as G,A as H}from"#entry";import{_ as J}from"./CsY35JUW.js";import{_ as K}from"./DyTskiS5.js";import{_ as L}from"./DNJQj0yQ.js";import{h as P}from"./BE3cI0a5.js";import"./DBwQYu6J.js";import"./DnFVE45b.js";import"./DegKy-XA.js";import"./DSCppvl0.js";import"./7d3iyZ8h.js";import"./DoL5-2Ox.js";import"./DVSiT9pd.js";import"./D_1uxSdv.js";import"./6WwfWHXT.js";import"./KiG0a5S-.js";import"./CXk2IlXx.js";import"./kRIii9yh.js";import"./B1TeSxwV.js";import"./C6Y-ieo6.js";import"./Ti3HjCpC.js";import"./CyS2mNdj.js";import"./BaKvIqXP.js";import"./cwT2REE1.js";import"./DaC7Nksz.js";import"./DJ9SNVgt.js";import"./CgMDXot0.js";import"./CZsOHrUj.js";const Q={class:"flex items-center gap-4"},R={class:"flex items-center gap-2"},W={class:"text-secondary-foreground flex items-center text-base font-semibold"},X={class:"line-clamp-1"},Y={class:"text-muted-foreground line-clamp-1 text-xs",target:"_blank",rel:"noopener noreferrer"},Z={class:"max-w-100"},ee={key:0,class:"text-muted-foreground line-clamp-2 text-xs"},te={key:1,class:"text-muted-foreground line-clamp-2 text-xs"},oe={key:0,class:"flex flex-row items-center gap-1.5"},ce={class:"line-clamp-2 text-xs text-red-500"},ne={class:"flex items-center justify-between gap-2"},re={class:"flex items-center gap-1"},De=D({__name:"web-mcp-card",props:{mcpServer:{},selected:{type:Boolean,default:!1},updateIds:{}},emits:["select","delete","edit","view-models","remove-system","toggle-visible"],setup(e,{emit:b}){const t=e,a=b,{t:l}=E(),m=S(""),_=S(""),g=async()=>{const o=await P(t.mcpServer.id);m.value=o.connectable,_.value=o.error},y=v(()=>m.value===""?t.mcpServer.connectable:m.value),p=v(()=>m.value===""?t.mcpServer.connectError:_.value),k=v(()=>{const o=[];return t.mcpServer.type==="user"&&o.push({label:l("console-common.edit"),icon:"i-lucide-edit",onSelect:()=>a("edit",t.mcpServer)}),t.mcpServer.type==="user"&&(o.length>0&&o.push({type:"separator",label:"",onSelect:()=>{}}),o.push({label:l("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>a("delete",t.mcpServer)})),o});function w(){a("view-models",t.mcpServer.id)}function C(o){typeof o=="boolean"&&a("select",t.mcpServer,o)}return A(()=>{t.updateIds?.includes(t.mcpServer.id)&&(g(),t.updateIds?.splice(t.updateIds.indexOf(t.mcpServer.id),1))}),(o,h)=>{const B=G,I=F,u=J,U=O,$=K,z=j,V=L;return d(),T(V,{class:"flex flex-col overflow-hidden","show-actions":"",variant:"outlined",selected:e.selected,actions:i(k),onSelect:C},{icon:n(({groupHoverClass:f,selectedClass:N})=>[c("div",Q,[r(I,{color:i(y)?"success":"error",position:"top-right"},{default:n(()=>[r(B,{src:e.mcpServer.icon,alt:e.mcpServer.name,size:"3xl",ui:{root:"rounded-lg",fallback:"text-inverted"},class:H([f,N,e.mcpServer.icon?"":"bg-primary"])},null,8,["src","alt","class"])]),_:2},1032,["color"]),c("div",null,[c("div",R,[c("h3",W,[r(u,{text:e.mcpServer.name,delay:0},{default:n(()=>[c("span",X,s(e.mcpServer.alias||e.mcpServer.name),1)]),_:1},8,["text"])])]),c("a",Y," @ "+s(e.mcpServer.providerName),1)])])]),description:n(()=>[r(u,{disabled:!e.mcpServer.description,text:e.mcpServer.description,ui:{content:"max-w-100 !whitespace-pre-wrap leading-relaxed h-fit p-2"},"delay-duration":0},{content:n(()=>[c("div",Z,s(e.mcpServer.description),1)]),default:n(()=>[e.mcpServer.description?(d(),x("h4",ee,s(e.mcpServer.description),1)):(d(),x("h4",te,s(i(l)("ai-mcp.backend.noDescription")),1))]),_:1},8,["disabled","text"]),r(u,{text:i(p),"delay-duration":0},{default:n(()=>[i(p)?(d(),x("div",oe,[r(U,{name:"tabler:plug-connected-x",size:"16",class:"text-red-500"}),c("h4",ce,s(i(p)),1)])):q("",!0)]),_:1},8,["text"])]),footer:n(()=>[c("div",ne,[r($,{"model-value":!e.mcpServer.isDisabled,"onUpdate:modelValue":h[0]||(h[0]=f=>a("toggle-visible",e.mcpServer.id,!f)),size:"md"},null,8,["model-value"]),c("div",re,[r(z,{icon:"i-lucide-eye",variant:"ghost",size:"sm",onClick:w},{default:n(()=>[M(s(i(l)("console-common.check")),1)]),_:1})])])]),_:1},8,["selected","actions"])}}});export{De as default};
