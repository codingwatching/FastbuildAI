import{d as E,f as Y,b2 as $,b as V,ao as j,O as b,s as X,g as A,b3 as G,bZ as K,S as v,aN as q,c as g,o as n,t as d,q as s,p as t,l as m,bG as Z,v as x,k as p,j as _,z as w,aT as F,C as H,y as J,x as Q,Y as W,A as ee}from"#entry";import{_ as te}from"./BTkcJ0P0.js";import{a as oe,b as le,c as ae,n as ne}from"./DP4OtQ_W.js";import{a as se,c as ce}from"./oFTPHjuc.js";import{u as ie}from"./C1DLXs69.js";import{u as re}from"./Bw2sqyd4.js";import{d as ue}from"./Cb04SOqd.js";import"./XzHi4Tl0.js";import"./DHFmmngs.js";import"./kRIii9yh.js";import"./Btvd554H.js";import"./MN31c9CG.js";import"./C6Y-ieo6.js";import"./B2mx0Z2E.js";import"./B-DdbQ-X.js";import"./V9POJiZu.js";import"./CuOaO1Pb.js";import"./D6yWePie.js";import"./DuSMYVIA.js";import"./3UOIlTK8.js";import"./8trvJunN.js";import"./VGKgjfSv.js";import"./BcsO9TDZ.js";const de={key:0,class:"hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg select-none"},me={class:"flex h-10 items-center justify-between px-3 py-2 text-sm font-medium"},pe={class:"flex items-center gap-1.5",href:"https://www.buildingai.cc",target:"_blank"},fe={key:0,class:"truncate"},he={class:"ml-2 flex flex-col text-left"},ge={class:"block w-35 truncate text-sm font-medium"},xe={class:"text-muted-foreground text-xs"},ke={key:1,class:"text-foreground flex h-full w-full cursor-pointer items-center gap-2 px-1 py-1"},ye={class:"text-sm"},be={class:"flex flex-1 items-center gap-2"},ve={key:0,class:"flex w-[100px] flex-col"},_e={class:"truncate text-sm font-medium"},Ie={class:"text-secondary-foreground truncate text-xs"},Se={key:0,class:"flex items-center"},Ze=E({__name:"user-menu",props:{mode:{},collapsed:{type:Boolean},mobileMenu:{type:Boolean}},emits:["update:collapsed"],setup(c,{emit:D}){const L=c,N=D,I=L.mode==="sidebar"?se(L,"collapsed",N):Y(!1),f=ie(),{store:r}=ce(),i=$(),{locale:C,t:o,setLocale:T}=V(),{smartNavigate:P}=re(),l=j(),R=b("nuxt-ui-language"),k=X(!1),M=A(()=>r.value==="auto"?{label:o("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid"}:r.value==="light"?{label:o("layouts.theme.light"),icon:"i-lucide-sun"}:{label:o("layouts.theme.dark"),icon:"i-lucide-moon"}),O=A(()=>[[{label:"profile",onSelect:()=>{P(`/profile/${l.userInfo?.id}`)}}],[{label:f.consoleLayoutMode==="side"?o("layouts.sidebar"):o("layouts.mixture"),icon:f.consoleLayoutMode==="side"?"i-lucide-panel-left":"i-lucide-panels-top-left",children:[{label:o("layouts.sidebar"),icon:"i-lucide-panel-left",type:"checkbox",checked:f.consoleLayoutMode==="side",onSelect(e){e.preventDefault(),f.consoleLayoutMode="side",b(v.LAYOUT_MODE).value="side"}},{label:o("layouts.mixture"),icon:"i-lucide-panels-top-left",type:"checkbox",checked:f.consoleLayoutMode==="mixture",onUpdateChecked(e){e&&(f.consoleLayoutMode="mixture",b(v.LAYOUT_MODE).value="mixture")},onSelect(e){e.preventDefault()}}]},{label:o("layouts.theme.theme"),icon:"i-lucide-palette",children:[{label:o("layouts.theme.color"),slot:"chip",chip:i.ui.colors.primary,content:{align:"center",collisionPadding:16},children:oe.map(e=>({label:o(ae[e]),chip:e,slot:"chip",checked:i.ui.colors.primary===e,type:"checkbox",onSelect:u=>{u.preventDefault();const h=b(v.NUXT_UI_BLACK_AS_PRIMARY),y=b(v.NUXT_UI_PRIMARY);if(y.value=e,i.ui.colors.primary=e,e==="black"){i.theme.blackAsPrimary=!0,h.value=!0,i.ui.colors.primary=e;return}i.theme.blackAsPrimary=!1,h.value=!1}}))},{label:o("layouts.theme.neutralLabel"),slot:"chip",chip:i.ui.colors.neutral,content:{align:"end",collisionPadding:16},children:le.map(e=>({label:o(ne[e]),chip:e,slot:"chip",type:"checkbox",checked:i.ui.colors.neutral===e,onSelect:u=>{u.preventDefault();const h=b(v.NUXT_UI_NEUTRAL);h.value=e,i.ui.colors.neutral=e}}))}]},{label:M.value.label,icon:M.value.icon,children:[{label:o("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid",type:"checkbox",checked:r.value==="auto",onSelect(e){e.preventDefault(),r.value="auto"}},{label:o("layouts.theme.light"),icon:"i-lucide-sun",type:"checkbox",checked:r.value==="light",onSelect(e){e.preventDefault(),r.value="light"}},{label:o("layouts.theme.dark"),icon:"i-lucide-moon",type:"checkbox",checked:r.value==="dark",onUpdateChecked(e){e&&(r.value="dark")},onSelect(e){e.preventDefault()}}]},{label:K(C.value),icon:"i-lucide-languages",content:{align:"end",collisionPadding:16},children:G.map(e=>({label:`${e.name}`,type:"checkbox",slot:"lang",checked:C.value===e.code,onSelect(u){u.preventDefault(),T(e.code),R.value=e.code}}))}],[{label:o("layouts.officeLink"),icon:"i-lucide-external-link",onSelect(){window.open("https://www.buildingai.cc","_blank")}}],[{label:o("layouts.logout"),icon:"i-lucide-log-out",onSelect(e){e.preventDefault(),l.logout()}}]]);return ue({o:()=>k.value=!k.value}),(e,u)=>{const h=Z,y=J,S=H,z=q("RouterLink"),U=F,B=te;return n(),g("div",{class:w(["flex flex-col gap-1",c.collapsed?"px-1":"px-1.5"])},[t(f).consoleLayoutMode==="side"?(n(),g("div",de,[s("div",me,[s("a",pe,[m(h,{name:"i-lucide-external-link"}),c.collapsed?d("",!0):(n(),g("span",fe,x(t(o)("layouts.officeLink")),1))])])])):d("",!0),s("div",{class:w(["hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg px-3 py-2 select-none",{"bg-secondary dark:bg-surface-800":t(k)}])},[m(B,{open:t(k),"onUpdate:open":u[0]||(u[0]=a=>ee(k)?k.value=a:null),items:t(O),content:c.mode==="mixture"?{sideOffset:4,collisionPadding:14}:{align:"start",side:c.mobileMenu?"top":"right",sideOffset:10,collisionPadding:10},ui:{content:c.collapsed||c.mode==="mixture"?"w-54":"w-(--reka-dropdown-menu-trigger-width)"}},{"chip-leading":p(({item:a})=>[s("span",{style:W({backgroundColor:a.chip}),class:"ms-0.5 size-2 rounded-full"},null,4)]),"chip-trailing":p(({item:a})=>[a.children?(n(),_(y,{key:0,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):d("",!0)]),"lang-leading":p(({item:a})=>[Q(x(a.icon),1)]),item:p(({item:a})=>[a?.label==="profile"?(n(),_(z,{key:0,class:"flex px-1 pt-1.5",to:"/profile"},{default:p(()=>[m(S,{src:t(l).userInfo?.avatar,alt:t(l).userInfo?.nickname,icon:t(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),s("div",he,[s("span",ge,x(t(l).userInfo?.nickname),1),s("span",xe,x(t(l).userInfo?.username),1)])]),_:1})):(n(),g("div",ke,[m(y,{name:a.icon,class:"text-muted-foreground text-lg"},null,8,["name"]),s("span",ye,x(a.label),1)])),a.children?(n(),_(y,{key:2,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):d("",!0),a.checked?(n(),_(y,{key:3,name:"i-lucide-check",class:"text-muted-foreground text-lg"})):d("",!0)]),default:p(()=>[c.mode==="sidebar"?(n(),g("div",{key:0,class:w(["flex flex-1 items-center justify-center gap-2 select-none",{"flex-col":t(I)}])},[s("div",be,[m(U,{color:"success",inset:""},{default:p(()=>[m(S,{src:t(l).userInfo?.avatar,alt:t(l).userInfo?.nickname,icon:t(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])]),_:1}),t(I)?d("",!0):(n(),g("div",ve,[s("span",_e,x(t(l).userInfo?.nickname),1),s("span",Ie,x(t(l).userInfo?.username),1)]))]),t(I)?d("",!0):(n(),g("div",Se,[m(h,{name:"i-lucide-chevrons-up-down",class:"text-muted"})]))],2)):c.mode==="mixture"?(n(),_(U,{key:1,inset:""},{default:p(()=>[m(S,{src:t(l).userInfo?.avatar,alt:t(l).userInfo?.nickname,icon:t(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])]),_:1})):d("",!0)]),_:1},8,["open","items","content","ui"])],2)],2)}}});export{Ze as default};
