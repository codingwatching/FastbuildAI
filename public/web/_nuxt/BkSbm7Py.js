const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BIPcwZvi.js","./C4ofdRUp.js","./CCoSr_X_.js","./DxD6Ynfo.js","./psimjGaX.js","./CuVAPZQ8.js","./B3rWqoNg.js","./EK7Wbu3-.js","./bvMLy1sv.js","./D9sX2Qi6.js","./CAQVAH0V.js","./Deu6qIfg.js","./0Benagh_.js","./BTN3Ax-V.js","./BKdtdX-7.js","./CtosDvS0.js","./kRIii9yh.js","./BhB8DUPm.js","./C6Y-ieo6.js","./zlMhJk0P.js","./DeCyaT7k.js","./D4e4FYoF.js","./BCcN9pii.js","./CMKSl-Ng.js","./Cuqwcq71.js","./CjasYwqF.js","./DBEJUH-Z.js","./Cj1H12mz.js","./BlyoSzaa.js","./Cx0YQqJV.js","./cd55qm53.js","./D_3bTjYR.js","./4jjeIyfe.js","./CBP5wIdr.js","./BstbYvQo.js","./DUJH4dqr.js","./DWy_CFG9.js","./td2xDKru.js","./RPflLnqr.js","./TrJvDfxI.js","./jsPNKUA0.js","./Bzv9SrOl.js","./BtLy_Oaq.js","./Be9qZ8Md.js","./D19QCKnC.js","./LSmoYDCw.js","./B3XNqw4u.js","./BVraOlsu.js","./BxwUS5gW.js","./MCK2d4XT.js","./FTderXKt.js","./DaWZu8wl.js","./fBqb-vBq.js","./o4ws_w_T.js"])))=>i.map(i=>d[i]);
import{d as Y,at as Z,i as ee,V as te,s as T,aQ as oe,n as $,q as se,c as f,o as u,x as r,f as I,y as ae,t as n,g as e,z as d,w as p,_ as ne,A as k,F as ie,E as ce,W as S,B as le,X as M}from"#entry";import re from"./cd55qm53.js";import{_ as de}from"./CBP5wIdr.js";import{_ as me}from"./Cuqwcq71.js";import{_ as pe}from"./B3rWqoNg.js";import{_ as ue}from"./B5gsc-Ax.js";import{_ as _e}from"./BTN3Ax-V.js";import{_ as fe}from"./BkF8DltG.js";import{_ as he}from"./BgeYBRhp.js";import{f as ge,g as ve,c as be,h as ye,i as ke}from"./Cj1H12mz.js";import{u as Se}from"./ZDOPDbaX.js";import{u as Me}from"./oxig-ZyS.js";import"./CtosDvS0.js";import"./CAQVAH0V.js";import"./DxD6Ynfo.js";import"./zlMhJk0P.js";import"./DeCyaT7k.js";import"./D4e4FYoF.js";import"./BhB8DUPm.js";import"./BstbYvQo.js";import"./CuVAPZQ8.js";import"./CjasYwqF.js";import"./DBEJUH-Z.js";import"./CMKSl-Ng.js";import"./BCcN9pii.js";import"./Deu6qIfg.js";import"./D9sX2Qi6.js";import"./EK7Wbu3-.js";import"./BKdtdX-7.js";import"./kRIii9yh.js";import"./C6Y-ieo6.js";import"./psimjGaX.js";import"./jsPNKUA0.js";import"./Bzv9SrOl.js";import"./o0-e7Rye.js";const xe={class:"provider-list-container pb-5"},we={class:"bg-background sticky top-0 z-10 flex flex-wrap gap-4 pb-2"},Ce={class:"flex items-center gap-2 md:ml-auto"},De={class:"flex items-center gap-2"},Ve={class:"text-accent-foreground text-sm dark:text-gray-400"},Ae={class:"mt-2 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Ue={key:1,class:"flex h-[calc(100vh-13rem)] items-center justify-center"},ze={class:"flex items-center gap-3"},Ee={class:"text-accent-foreground"},Te={key:2,class:"flex h-[calc(100vh-13rem)] flex-col items-center justify-center"},$e={class:"text-secondary-foreground mb-2 text-lg font-medium"},Ie={class:"text-accent-foreground"},Pe={key:3,class:"bg-background sticky bottom-0 z-10 flex items-center justify-between gap-3 py-4"},Be={class:"text-muted text-sm"},Re={class:"flex items-center gap-1.5"},kt=Y({__name:"list",setup(Le){const P=S(()=>M(()=>import("./BIPcwZvi.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url)),B=S(()=>M(()=>import("./Cx0YQqJV.js"),__vite__mapDeps([29,1,30,31,9,32,33,15,10,3,19,20,21,17,34,5,35,36,37,38,39,40,41,8,11,42,43,14,16,18,22,23,4,44,45,46,47,48,49,7,27,50,51]),import.meta.url)),R=S(()=>M(()=>import("./fBqb-vBq.js"),__vite__mapDeps([52,1,2,3,4,5,6,7,53,44,45,46,19,17,47,48,49,27]),import.meta.url)),h=Z(),{t:s}=ee(),x=te(),i=T(new Set),_=oe({name:"",isDisabled:null}),w=T([]),{paging:a,getLists:m}=Se({fetchFun:ge,params:_}),L=(t,o)=>{if(typeof o=="boolean"){const c=t.id;o?i.value.add(c):i.value.delete(c)}},O=t=>{t===!0?a.items.forEach(c=>{c.id&&i.value.add(c.id)}):i.value.clear()},C=async t=>{try{await Me({title:s("ai-mcp.backend.deleteTitle"),description:s("ai-mcp.backend.deleteMessage"),color:"error"}),Array.isArray(t)?(await ye(t),h.success(s("ai-mcp.backend.deleteSuccess"))):(await ke(t),h.success(s("ai-mcp.backend.deleteSuccess"))),i.value.clear(),m()}catch(o){console.error("Delete failed:",o)}},j=t=>{t.id&&C(t.id)},q=()=>{const t=Array.from(i.value);t.length!==0&&C(t)},g=async(t="",o=!1)=>{await x.create(B).open({id:t,isJsonImport:o,"onChange-update":b=>{w.value=b||[]}}).result&&m()},F=async t=>{await x.create(R).open({id:t}).result&&m()},N=t=>{F(t)},D=()=>{g()},V=()=>{g("",!0)},Q=async t=>{try{await ve(t.id),m(),h.success(s("ai-mcp.backend.quickMenuSuccess"))}catch(o){console.error("Set quick menu failed:",o)}},G=t=>{g(t.id)},J=async(t,o)=>{try{await be(t,{isDisabled:o}),h.success(o?"MCP已禁用":"MCP已启用"),m()}catch(c){console.error("Toggle provider active failed:",c)}},K=$(()=>a.items.length>0&&a.items.every(t=>t.id&&i.value.has(t.id))),W=$(()=>{const t=a.items.filter(o=>o.id&&i.value.has(o.id)).length;return t>0&&t<a.items.length});return se(()=>m()),(t,o)=>{const c=re,v=de,A=me,b=pe,y=ne,U=ue,z=_e,X=fe,E=le,H=he;return u(),f("div",xe,[r("div",we,[n(c,{modelValue:e(_).name,"onUpdate:modelValue":o[0]||(o[0]=l=>e(_).name=l),class:"w-70",placeholder:e(s)("ai-mcp.backend.search.placeholder"),onChange:e(m)},null,8,["modelValue","placeholder","onChange"]),n(v,{modelValue:e(_).isDisabled,"onUpdate:modelValue":o[1]||(o[1]=l=>e(_).isDisabled=l),items:[{label:e(s)("ai-mcp.backend.search.all"),value:null},{label:e(s)("console-common.enabled"),value:!1},{label:e(s)("console-common.disabled"),value:!0}],class:"w-fit","label-key":"label","value-key":"value",placeholder:e(s)("ai-mcp.backend.search.status"),onChange:e(m)},null,8,["modelValue","items","placeholder","onChange"]),r("div",Ce,[r("div",De,[n(A,{"model-value":e(K)?!0:e(W)?"indeterminate":!1,"onUpdate:modelValue":O},null,8,["model-value"]),r("span",Ve,d(e(i).size)+" / "+d(e(a).items.length)+" "+d(e(s)("console-common.selected")),1)]),n(U,{codes:["ai-mcp-servers:delete"]},{default:p(()=>[n(y,{color:"error",variant:"subtle",label:e(s)("console-common.batchDelete"),icon:"i-heroicons-trash",disabled:e(i).size===0,onClick:q},{trailing:p(()=>[n(b,null,{default:p(()=>[k(d(e(i).size),1)]),_:1})]),_:1},8,["label","disabled"])]),_:1}),n(U,{codes:["ai-mcp-servers:create"]},{default:p(()=>[n(z,{size:"lg",items:[{label:e(s)("ai-mcp.backend.quickCreateTitle"),icon:"i-heroicons-plus",color:"primary",onSelect:()=>D()},{label:e(s)("ai-mcp.backend.importTitle"),icon:"i-lucide-file-json-2",color:"primary",onSelect:()=>V()}],content:{align:"start",side:"bottom",sideOffset:8},ui:{content:"w-48"}},{default:p(()=>[n(y,{icon:"i-heroicons-plus",color:"primary"},{default:p(()=>[k(d(e(s)("ai-mcp.backend.addTitle")),1)]),_:1})]),_:1},8,["items"])]),_:1})])]),!e(a).loading&&e(a).items.length>0?(u(),I(X,{key:0,class:"h-[calc(100vh-13rem)]",shadow:!1},{default:p(()=>[r("div",Ae,[(u(!0),f(ie,null,ce(e(a).items,l=>(u(),I(e(P),{key:l.id,mcpServer:l,selected:e(i).has(l.id),isUpdate:e(w),onSelect:L,onDelete:j,onEdit:G,onViewModels:N,onToggleActive:J,onSetQuickMenu:Q},null,8,["mcpServer","selected","isUpdate"]))),128))])]),_:1})):e(a).loading?(u(),f("div",Ue,[r("div",ze,[n(E,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),r("span",Ee,d(t.$t("common.loading")),1)])])):(u(),f("div",Te,[n(E,{name:"i-lucide-building",class:"text-muted-foreground mb-4 h-16 w-16"}),r("h3",$e,d(t.$t("ai-mcp.backend.emptyState")),1),r("p",Ie,d(t.$t("ai-mcp.backend.emptyStateDescription")),1),n(z,{size:"lg",items:[{label:e(s)("ai-mcp.backend.quickCreateTitle"),icon:"i-heroicons-plus",color:"primary",onSelect:()=>D()},{label:e(s)("ai-mcp.backend.importTitle"),icon:"i-lucide-file-json-2",color:"primary",onSelect:()=>V()}],content:{align:"start",side:"bottom",sideOffset:8},ui:{content:"w-48"}},{default:p(()=>[n(y,{class:"mt-4",icon:"i-heroicons-plus",color:"primary"},{default:p(()=>[k(d(t.$t("ai-mcp.backend.addFirstMcpServer")),1)]),_:1})]),_:1},8,["items"])])),e(a).total>0?(u(),f("div",Pe,[r("div",Be,d(e(i).size)+" "+d(t.$t("console-common.selected")),1),r("div",Re,[n(H,{page:e(a).page,"onUpdate:page":o[2]||(o[2]=l=>e(a).page=l),size:e(a).pageSize,"onUpdate:size":o[3]||(o[3]=l=>e(a).pageSize=l),total:e(a).total,onChange:e(m)},null,8,["page","size","total","onChange"])])])):ae("",!0)])}}});export{kt as default};
