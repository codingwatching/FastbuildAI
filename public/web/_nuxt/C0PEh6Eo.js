const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bqafkhf0.js","./Dgvg0_To.js","./ilPiIi3f.js","./CDSfhndf.js","./CjOovgR0.js","./DXP7Kkdt.js","./BRI4D6WA.js","./DlAUqK2U.js","./Brlt-NDg.js","./DoL5-2Ox.js","./12pJH7Js.js","./CXk2IlXx.js","./DVSiT9pd.js","./DBwQYu6J.js","./Ti3HjCpC.js","./CyS2mNdj.js","./BaKvIqXP.js","./B1TeSxwV.js","./BstbYvQo.js","./DegKy-XA.js","./BjYsydzc.js","./DU_7w33M.js","./r8IkyAmp.js","./CHCbUdJ4.js","./CgMDXot0.js","./C6Y-ieo6.js","./Ds48qA85.js","./CvZB4bI9.js","./KiG0a5S-.js","./kRIii9yh.js","./cwT2REE1.js","./DaC7Nksz.js","./DnFVE45b.js","./BYm23QKU.js","./DGUAW_1C.js","./DDJ79SjH.js","./RmzZBBRE.js","./C4jlvBh2.js","./C-XPfH0G.js","./7d3iyZ8h.js","./BE3cI0a5.js","./BUyfW8JT.js","./DaWZu8wl.js","./D-xoMSre.js","./CsY35JUW.js","./DSCppvl0.js","./DyTskiS5.js","./D_1uxSdv.js","./DNJQj0yQ.js","./6WwfWHXT.js","./DJ9SNVgt.js","./CZsOHrUj.js","./tFDYwGtV.js","./B-p4_8pw.js"])))=>i.map(i=>d[i]);
import{d as B,ap as F,e as N,Q as O,aN as I,j as q,c as u,t as o,v as y,m as p,q as e,x as r,F as G,C as J,l as k,R as x,U as M,o as c,I as Q,z as H,k as S,_ as K,y as T}from"#entry";import{_ as W}from"./DNVymXxO.js";import X from"./CDSfhndf.js";import{_ as Y}from"./N6rGDb75.js";import{_ as Z}from"./4yDHJZoY.js";import{a as ee,b as te,c as se}from"./BE3cI0a5.js";import{u as oe}from"./C1xCp5oe.js";import{u as ae}from"./DcxZIiHI.js";import"./CXk2IlXx.js";import"./DegKy-XA.js";import"./cwT2REE1.js";import"./DaC7Nksz.js";import"./CZsOHrUj.js";import"./B-p4_8pw.js";import"./DhlnS5e0.js";import"./DlAUqK2U.js";const ie={class:"provider-list-container"},ne={class:"bg-background sticky top-0 z-50 flex flex-wrap items-center justify-between gap-4 pb-4"},re={key:0,class:"grid grid-cols-1 gap-6 py-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"},ce={key:0,class:"rounded-lg border border-dashed p-4"},le={class:"flex flex-col"},de={class:"text-muted-foreground pb-2 pl-2 text-xs font-bold"},me={key:1,class:"flex h-[50vh] items-center justify-center"},pe={class:"flex items-center gap-3"},ue={class:"text-accent-foreground"},_e={key:2,class:"flex h-[50vh] flex-col items-center justify-center"},fe={class:"text-secondary-foreground mb-2 text-lg font-medium"},ge={class:"text-accent-foreground"},ye={key:3,class:"bg-background sticky bottom-0 z-50 flex items-center justify-between gap-3 py-4"},he={class:"text-muted text-sm"},ve={class:"flex items-center gap-1.5"},Le=B({__name:"mcp-settings",setup(be){const U=x(()=>M(()=>import("./Bqafkhf0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]),import.meta.url)),z=x(()=>M(()=>import("./D-xoMSre.js"),__vite__mapDeps([43,1,44,13,32,19,45,39,46,9,12,47,48,49,28,11,29,17,25,14,15,16,30,31,50,24,51,40]),import.meta.url)),D=x(()=>M(()=>import("./tFDYwGtV.js"),__vite__mapDeps([52,1,44,13,32,19,45,39,53,33,34,35,14,17,36,37,38,40]),import.meta.url)),h=F(),{t:a}=N(),V=O(),d=I({name:"",type:"system"}),m=I({isJsonImport:!1,selectMcpServer:new Set,isSystemMcp:!1,updateIds:[],systemList:[]}),{paging:n,getLists:l}=oe({fetchFun:ee,params:d}),E=async t=>{if(t.id)try{await ae({title:a("ai-mcp.backend.deleteTitle"),description:a("ai-mcp.backend.deleteMessage"),color:"error"}),await te(t.id),h.success(a("ai-mcp.backend.deleteSuccess")),m.selectMcpServer.clear(),l()}catch(s){console.error("Delete MCP server failed:",s),h.error(a("common.message.deleteFailed"))}},v=async(t="",s=!1)=>{await V.create(U).open({id:t,isView:!1,isJsonImport:s,isSystemMcp:m.isSystemMcp,onUpdateIds:g=>{m.updateIds=g}}).result&&l()},$=async t=>{await V.create(D).open({id:t,isView:!0,isSystemMcp:m.isSystemMcp}).result&&l()},C=()=>{v()},w=()=>{v("",!0)},P=t=>{v(t.id)},R=async(t,s)=>{try{await se(t,{status:s}),h.success(a(s?"ai-mcp.backend.form.isActiveEnabled":"ai-mcp.backend.form.isActiveDisabled")),l()}catch(_){console.error("Toggle MCP server visibility failed:",_)}},L=Q(()=>{m.systemList=[],l()},500);return q(()=>l()),(t,s)=>{const _=W,b=X,f=H,g=K,j=Y,A=Z;return c(),u("div",ie,[o("div",ne,[p(_,{modelValue:e(d).type,"onUpdate:modelValue":[s[0]||(s[0]=i=>e(d).type=i),e(l)],color:"primary",content:!1,items:[{label:e(a)("ai-mcp.backend.search.system"),value:"system"},{label:e(a)("ai-mcp.backend.userMcp"),value:"user"}]},null,8,["modelValue","items","onUpdate:modelValue"]),o("div",null,[p(b,{modelValue:e(d).name,"onUpdate:modelValue":[s[1]||(s[1]=i=>e(d).name=i),e(L)],class:"w-50",placeholder:e(a)("ai-mcp.backend.search.placeholder"),onChange:e(l)},null,8,["modelValue","placeholder","onChange","onUpdate:modelValue"])])]),!e(n).loading&&e(n).items.length>0?(c(),u("div",re,[e(d).type==="user"?(c(),u("div",ce,[o("div",le,[o("h3",de,r(e(a)("ai-mcp.backend.addTitle")),1),o("div",{class:"text-primary hover:bg-primary-50 flex cursor-pointer items-center rounded-lg px-2 py-2 text-sm",onClick:C},[p(f,{name:"i-lucide-file-plus-2",class:"mr-2 size-4"}),o("span",null,r(e(a)("ai-mcp.backend.quickCreateTitle")),1)]),o("div",{class:"text-primary hover:bg-primary-50 flex cursor-pointer items-center rounded-lg px-2 py-2 text-sm",onClick:w},[p(f,{name:"i-lucide-file-json-2",class:"mr-2 size-4"}),o("span",null,r(e(a)("ai-mcp.backend.importTitle")),1)])])])):y("",!0),(c(!0),u(G,null,J(e(n).items,i=>(c(),S(e(z),{key:i.id,mcpServer:i,selected:e(m).selectMcpServer.has(i.id),"update-ids":e(m).updateIds,onDelete:E,onEdit:P,onViewModels:$,onToggleVisible:R},null,8,["mcpServer","selected","update-ids"]))),128))])):e(n).loading?(c(),u("div",me,[o("div",pe,[p(f,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),o("span",ue,r(t.$t("common.loading")),1)])])):(c(),u("div",_e,[p(f,{name:"i-lucide-building",class:"mb-4 h-16 w-16 text-gray-400"}),o("h3",fe,r(t.$t("ai-mcp.backend.emptyState")),1),o("p",ge,r(t.$t("ai-mcp.backend.emptyStateDescription")),1),p(j,{orientation:"horizontal",class:"mt-4"},{default:k(()=>[e(d).type!=="system"?(c(),S(g,{key:0,icon:"i-heroicons-plus",color:"primary",onClick:C},{default:k(()=>[T(r(t.$t("ai-mcp.backend.quickCreateTitle")),1)]),_:1})):y("",!0),e(d).type!=="system"?(c(),S(g,{key:1,icon:"i-lucide-file-json-2",color:"primary",variant:"subtle",onClick:w},{default:k(()=>[T(r(t.$t("ai-mcp.backend.importTitle")),1)]),_:1})):y("",!0)]),_:1})])),e(n).total>0?(c(),u("div",ye,[o("div",he,r(e(m).selectMcpServer.size)+" "+r(t.$t("console-common.selected")),1),o("div",ve,[p(A,{page:e(n).page,"onUpdate:page":s[2]||(s[2]=i=>e(n).page=i),size:e(n).pageSize,"onUpdate:size":s[3]||(s[3]=i=>e(n).pageSize=i),total:e(n).total,onChange:e(l)},null,8,["page","size","total","onChange"])])])):y("",!0)])}}});export{Le as default};
