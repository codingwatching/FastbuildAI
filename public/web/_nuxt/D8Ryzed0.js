const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./bjzkBFnf.js","./CDSfhndf.js","./Dgvg0_To.js","./Brlt-NDg.js","./DoL5-2Ox.js","./BYm23QKU.js","./DGUAW_1C.js","./DDJ79SjH.js","./Ti3HjCpC.js","./DegKy-XA.js","./B1TeSxwV.js","./RmzZBBRE.js","./C4jlvBh2.js","./C-XPfH0G.js","./7d3iyZ8h.js","./Nq8aGaE2.js"])))=>i.map(i=>d[i]);
import{d as S,b1 as A,e as C,ap as B,f as D,aK as E,c as k,t as n,x as i,q as e,m as o,l,b2 as F,o as v,R as w,_ as L,y as f,k as P,U as y}from"#entry";import{_ as T}from"./ilPiIi3f.js";import $ from"./CDSfhndf.js";import{_ as M}from"./Brlt-NDg.js";import{_ as R}from"./BixMXl5t.js";import"./CjOovgR0.js";import"./DXP7Kkdt.js";import"./BRI4D6WA.js";import"./DlAUqK2U.js";import"./DoL5-2Ox.js";const j={class:"mx-auto md:w-[600px] lg:w-[750px] xl:w-[850px]"},q={class:"mt-8 mb-6 text-lg font-medium"},O={class:"bg-accent mb-6 flex items-center rounded-xl p-6"},K={class:"ml-4"},W={class:"text-foreground text-md font-semibold"},G={class:"text-muted-foreground mt-1 text-sm"},H={class:"space-y-8"},J={class:"flex items-center gap-2"},Q={class:"flex-none"},X={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2"},Z={class:"flex items-center gap-2"},ee={class:"flex items-center gap-2"},oe={class:"flex items-center gap-2"},se={key:1},te={class:"mt-8 mb-6 text-lg font-medium"},ne={class:"space-y-8"},le={class:"flex items-center gap-2"},ae={class:"flex-none"},re={class:"flex items-center gap-2"},be=S({__name:"index",setup(ie){const h=w(()=>y(()=>import("./bjzkBFnf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),z=w(()=>y(()=>import("./Nq8aGaE2.js"),__vite__mapDeps([15,2,1,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),{copy:g}=A(),{t:s}=C(),p=B(),t=D(),{lockFn:x,isLock:b}=E(async(I,a)=>{try{const m=await F({field:I,value:a});t.getUser(),p.success(m.message)}catch(m){console.error("修改失败:",m)}});async function V(){t.userInfo?.userNo&&(await g(t.userInfo.userNo),p.success(s("console-common.messages.copySuccess")))}async function U(){t.userInfo?.username&&(await g(t.userInfo.username),p.success(s("console-common.messages.copySuccess")))}function _(){p.info(s("user.frontend.profile.featureNotAvailable"))}return(I,a)=>{const m=T,u=$,c=L,d=M,N=R;return v(),k("div",j,[n("section",null,[n("h2",q,i(e(s)("user.frontend.profile.myAccount")),1),n("div",O,[n("div",null,[o(m,{modelValue:e(t).userInfo.avatar,"onUpdate:modelValue":a[0]||(a[0]=r=>e(t).userInfo.avatar=r),class:"size-16 overflow-hidden !rounded-full",text:e(s)("user.frontend.profile.uploadAvatar"),icon:"i-lucide-user",accept:".jpg,.png,.jpeg",maxCount:1,single:!0,onSuccess:a[1]||(a[1]=r=>e(x)("avatar",r.url))},null,8,["modelValue","text"])]),n("div",K,[n("div",W,i(e(t).userInfo?.nickname||e(s)("user.frontend.profile.notSet")),1),n("div",G,i(e(t).userInfo?.phone||e(t).userInfo?.email||"-"),1)])]),n("div",H,[o(d,{label:e(s)("user.frontend.profile.nickname"),required:"",name:"nickname"},{default:l(()=>[n("div",J,[o(u,{modelValue:e(t).userInfo.nickname,"onUpdate:modelValue":a[2]||(a[2]=r=>e(t).userInfo.nickname=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),n("div",Q,[o(e(h),{loading:e(b),"current-value":e(t).userInfo?.nickname,class:"flex-none",size:"lg",onSuccess:a[3]||(a[3]=r=>e(x)("nickname",r))},{default:l(()=>[o(c,{variant:"soft"},{default:l(()=>[f(i(e(s)("console-common.edit")),1)]),_:1})]),_:1},8,["loading","current-value"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.userNo"),name:"userNo"},{default:l(()=>[n("div",X,[o(u,{modelValue:e(t).userInfo.userNo,"onUpdate:modelValue":a[4]||(a[4]=r=>e(t).userInfo.userNo=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:V},{default:l(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.username"),name:"username"},{default:l(()=>[n("div",Y,[o(u,{modelValue:e(t).userInfo.username,"onUpdate:modelValue":a[5]||(a[5]=r=>e(t).userInfo.username=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:U},{default:l(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.email"),name:"email"},{default:l(()=>[n("div",Z,[o(u,{"model-value":e(t).userInfo.email||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.phone"),name:"phone"},{default:l(()=>[n("div",ee,[o(u,{"model-value":e(t).userInfo.phone||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.registrationTime"),name:"createdAt"},{default:l(()=>[n("div",oe,[o(u,{variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},{leading:l(()=>[e(t).userInfo?.createdAt?(v(),P(N,{key:0,datetime:e(t).userInfo.createdAt,mode:"datetime"},null,8,["datetime"])):(v(),k("span",se,"-"))]),_:1})])]),_:1},8,["label"])])]),n("section",null,[n("h2",te,i(e(s)("user.frontend.profile.accountSecurity")),1),n("div",ne,[o(d,{label:e(s)("user.frontend.profile.loginPassword"),name:"password"},{default:l(()=>[n("div",le,[o(u,{"model-value":e(t).userInfo.password?e(s)("user.frontend.profile.passwordSet"):e(s)("user.frontend.profile.passwordSet"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),n("div",ae,[o(e(z),{loading:e(b),class:"flex-none",size:"lg"},{default:l(()=>[o(c,{size:"lg",variant:"soft"},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})]),_:1},8,["loading"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.deactivateAccount"),name:"deactivate"},{default:l(()=>[n("div",re,[o(u,{"model-value":e(s)("user.frontend.profile.deactivateWarning"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",color:"error",onClick:_},{default:l(()=>[f(i(e(s)("user.frontend.profile.deactivate")),1)]),_:1})])]),_:1},8,["label"])])])])}}});export{be as default};
